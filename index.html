<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700;800&family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <title>Sandoz KZ | –î–æ–∑-–∫–∞—Ä—Ç–∞ (Wheel)</title>
  <style>
        /* –£–±–∏—Ä–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É touch –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }
    
    html {
      touch-action: manipulation;
      -ms-touch-action: manipulation;
    }
    
    :root{
      /* Typography */
      --font: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-display: 'Sora', sans-serif;

      /* Sandoz-ish palette (–∑–∞–º–µ–Ω–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ HEX, –µ—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –≥–∞–π–¥) */
      --sandoz-blue: #1C59B5;
      --sandoz-light-blue: #5DA6FF;
      --sandoz-dark-blue: #001C4A;
      --sandoz-orange: #FC522D;
      
      /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ Sandoz —Ü–≤–µ—Ç–∞ */
      --medium-blue: #5DA6FF;
      --light-blue-bg: #A8D5FF;
      --sand: #F1ECE9;
      --stone: #D6C6B6;
      --taupe: #A39F8B;
      --teal: #006B76;
      --mustard: #D5862C;


      --bg: linear-gradient(135deg, #001C4A 0%, #1C59B5 100%);
      --card: rgba(255, 255, 255, 0.98);
      --text: #1D2B36;
      --muted: #60707F;
      --border:#D9E1E8;

      --shadow: 0 20px 60px rgba(0, 0, 0, 0.15), 0 8px 20px rgba(28, 89, 181, 0.1);
      --radius: 14px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--font);
      background: linear-gradient(135deg, var(--sandoz-dark-blue) 0%, var(--sandoz-blue) 100%);
      color: var(--text);
      min-height: 100vh;
    }


    /* Noise overlay */
    .app::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      z-index: 1000;
    }
    .app{
      max-width: 1200px;
      position: relative;
      margin: 0 auto;
      padding: 16px;
      display: grid;
      gap: 12px;
    }

    header{
      backdrop-filter: blur(10px);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 16px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .brand{
      display:flex;
      align-items:baseline;
      gap: 12px;
    }
    .brand h1{
      font-family: var(--font-display);
      margin:0;
      font-size: 18px;
      letter-spacing: .2px;
      color: var(--sandoz-dark-blue);
    }
    .brand .sub{
      font-size: 12px;
      color: var(--muted);
    }

    .icon-btn{
      border: 1px solid var(--border);
      background: var(--card);
      height: 36px;
      width: 36px;
      border-radius: 10px;
      cursor:pointer;
      display:grid;
      place-items:center;
      color: var(--sandoz-dark-blue);
      font-weight: 900;
    }
    .icon-btn:hover{border-color: var(--sandoz-light-blue)}

    .controls{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px 16px;
      display:grid;
      gap: 12px;
    }

    .row{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }

    .field{
      display:grid;
      gap: 6px;
      min-width: 220px;
    }
    .field.small{min-width: 180px}
    .label{
      font-size: 12px;
      color: var(--muted);
    }

    .segmented{
      display:flex;
      background: #EFF3F6;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 4px;
      gap: 4px;
    }
    .segmented button{
      border: 0;
      background: transparent;
      padding: 10px 12px;
      border-radius: 10px;
      cursor:pointer;
      font-weight: 800;
      color: var(--sandoz-dark-blue);
      min-width: 120px;
    }
    .segmented button[aria-pressed="true"]{
      box-shadow: 0 4px 12px rgba(28, 89, 181, 0.3);
      background: var(--sandoz-dark-blue);
      color: #fff;
    }

    .tiles{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .tile{
      border: 1px solid var(--border);
      background: var(--card);
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
      min-width: 170px;
      text-align:left;
    }
    .tile:hover{border-color: var(--sandoz-light-blue)}
    .tile[aria-pressed="true"]{
      border-color: var(--sandoz-blue);
      box-shadow: 0 0 0 3px rgba(28, 89, 181, 0.12);
    }
    .tile .t{
      font-weight: 800;
      color: var(--sandoz-dark-blue);
      font-size: 13px;
      margin-bottom: 4px;
    }
    .tile .d{
      color: var(--muted);
      font-size: 12px;
      line-height: 1.2;
    }

    .chips{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items:center;
    }
    .chip{
      border: 1px solid var(--border);
      background: var(--card);
      border-radius: 999px;
      padding: 8px 10px;
      cursor:pointer;
      font-weight: 800;
      color: var(--sandoz-dark-blue);
      min-width: 68px;
      text-align:center;
    }
    .chip:hover{border-color: var(--sandoz-light-blue)}
    .chip[aria-pressed="true"]{
      border-color: var(--sandoz-blue);
      background: rgba(28, 89, 181, 0.08);
    }
    .chip:disabled{
      cursor:not-allowed;
      opacity: .45;
    }

    .weight{
      display:flex;
      gap: 10px;
      align-items:center;
      flex-wrap: wrap;
    }
    
    
    /* Chrome/Safari */
    
    
    /* Firefox */
    
    .num{
      width: 110px;
      padding: 10px 10px;
      border-radius: 10px;
      border: 1px solid var(--border);
      font-size: 16px;
      font-weight: 800;
      color: var(--sandoz-dark-blue);
    }
    .hint{
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
      min-height: 16px;
    }
    .hint.warn{color: #8A6B00}

    .main{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 12px;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px 16px;
    }

    .wheel-wrap{
      display:grid;
      place-items:center;
      position: relative;
      min-height: 520px;
      overflow:hidden;
    }

    .wheel{
      width: min(520px, 100%);
      aspect-ratio: 1 / 1;
      position: relative;
      display:grid;
      place-items:center;
      user-select:none;
    }

    .pointer{
      position:absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 12px solid transparent;
      border-right: 12px solid transparent;
      border-bottom: 22px solid var(--sandoz-dark-blue);
      filter: drop-shadow(0 2px 2px rgba(0,0,0,0.15));
      z-index: 5;
    }

    .wheel-svg{
      width: 100%;
      height: 100%;
      overflow: visible;
    }

    .rotor{
      transform-origin: 50% 50%;
      transition: transform 320ms ease-out;
    }

    .center-badge{
      font-family: var(--font-display);
      position:absolute;
      inset: 50% auto auto 50%;
      transform: translate(-50%,-50%);
      z-index: 6;
      background: rgba(255,255,255,0.92);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 900;
      color: var(--sandoz-dark-blue);
      box-shadow: 0 8px 20px rgba(11,42,74,0.12);
      font-size: 14px;
      display:flex;
      gap: 8px;
      align-items:center;
      text-align:center;
    }
    .center-badge .pill{
      background: var(--sandoz-blue);
      color: #fff;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 900;
    }

    .windows{
      position:absolute;
      inset: auto 14px 18px 14px;
      z-index: 7;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .window{
      min-width: 140px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.96);
      padding: 10px 12px;
      box-shadow: 0 10px 24px rgba(11,42,74,0.10);
      cursor:pointer;
    }
    .window:hover{border-color: var(--sandoz-light-blue)}
    .window.active{
      border-color: var(--sandoz-blue);
      box-shadow: 0 0 0 3px rgba(0,166,81,0.14), 0 10px 24px rgba(11,42,74,0.10);
    }
    .window.disabled{
      opacity: .45;
      cursor: not-allowed;
    }
    .window .w-top{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap: 10px;
      margin-bottom: 4px;
    }
    .window .w-title{
      font-size: 12px;
      color: var(--muted);
      font-weight: 800;
    }
    .window .w-dose{
      font-size: 22px;
      font-weight: 900;
      color: var(--sandoz-dark-blue);
      letter-spacing: .2px;
    }
    .window .w-sub{
      font-size: 12px;
      color: var(--muted);
    }

    .result h2{
      margin: 0 0 10px 0;
      font-size: 16px;
      color: var(--sandoz-dark-blue);
    }
    .kv{
      display:grid;
      gap: 10px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #FAFBFC;
    }
    .kv .line{
      display:flex;
      justify-content:space-between;
      gap: 10px;
      align-items:baseline;
    }
    .kv .k{
      color: var(--muted);
      font-size: 13px;
    }
    .kv .v{
      font-weight: 900;
      color: var(--sandoz-dark-blue);
      font-size: 18px;
      text-align:right;
    }
    .kv .v.small{font-size: 14px; font-weight: 800; color: var(--text)}

    .actions{
      margin-top: 12px;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn{
      border: 1px solid var(--border);
      background: var(--card);
      padding: 11px 12px;
      border-radius: 12px;
      cursor:pointer;
      font-weight: 900;
      color: var(--sandoz-dark-blue);
      min-width: 180px;
    }
    .btn:hover{border-color: var(--sandoz-light-blue)}
    .btn.primary{
      background: var(--sandoz-blue);
      color: #fff;
      border-color: var(--sandoz-blue);
    }
    .btn.primary:hover{filter: brightness(0.98)}
    .btn:disabled{opacity:.45; cursor:not-allowed}

    .note{
      margin-top: 10px;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.35;
    }
    .note strong{color: var(--sandoz-dark-blue)}

    /* Drawer */
    .drawer-backdrop{
      position: fixed;
      inset: 0;
      background: rgba(11,42,74,0.35);
      display:none;
      z-index: 20;
    }
    .drawer-backdrop.open{display:block}

    .drawer{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--card);
      border-top-left-radius: 18px;
      border-top-right-radius: 18px;
      border: 1px solid var(--border);
      box-shadow: 0 -20px 40px rgba(0,0,0,0.18);
      transform: translateY(110%);
      transition: transform 240ms ease-out;
      z-index: 21;
      max-height: 72vh;
      overflow:auto;
    }
    .drawer.open{transform: translateY(0)}
    .drawer header{
      position: sticky;
      top: 0;
      background: var(--card);
      box-shadow: 0 6px 18px rgba(11,42,74,0.08);
      border-radius: 0;
      border: 0;
      border-bottom: 1px solid var(--border);
    }
    .drawer .content{padding: 12px 16px 18px 16px;}
    table{
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    th, td{
      border-bottom: 1px solid var(--border);
      padding: 10px 8px;
      text-align:left;
      vertical-align: top;
    }
    th{color: var(--muted); font-weight: 900;}
    tr.hl td{background: rgba(28, 89, 181, 0.08)}

    .toast{
      position: fixed;
      top: 14px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--sandoz-dark-blue);
      color: #fff;
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 900;
      display:none;
      z-index: 30;
      box-shadow: 0 12px 28px rgba(0,0,0,0.25);
    }
    .toast.show{display:block}

    /* Modal */
    .modal-backdrop{
      position: fixed;
      inset:0;
      background: rgba(11,42,74,0.45);
      display:none;
      z-index: 40;
      place-items:center;
      padding: 16px;
    }
    .modal-backdrop.open{display:grid}
    .modal{
      width: min(720px, 100%);
      background: var(--card);
      border-radius: 8px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .modal h3{margin:0 0 8px 0; color: var(--sandoz-dark-blue)}
    .modal p{margin: 8px 0; color: var(--text); line-height: 1.4}
    .modal ul{margin: 8px 0 0 18px; color: var(--text);}
    .modal li{margin: 6px 0;}

        /* ========== SLIDER STYLES ========== */
    input[type="range"] {
      width: 280px;
      height: 8px;
      -webkit-appearance: none;
      appearance: none;
      background: transparent;
      cursor: pointer;
      outline: none;
    }
    
    /* Track (–ø–æ–ª–æ—Å–∫–∞) */
    input[type="range"]::-webkit-slider-runnable-track {
      width: 100%;
      height: 8px;
      background: #D9E1E8;
      border-radius: 4px;
    }
    
    input[type="range"]::-moz-range-track {
      width: 100%;
      height: 8px;
      background: #D9E1E8;
      border-radius: 4px;
    }
    
    /* Thumb (–±–µ–≥—É–Ω–æ–∫) - –ü–†–Ø–ú–û–£–ì–û–õ–¨–ù–´–ô –° –ù–ï–ë–û–õ–¨–®–ò–ú –°–ö–†–£–ì–õ–ï–ù–ò–ï–ú */
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 48px;
      height: 24px;
      background: #1C59B5;
      border: 2px solid white;
      border-radius: 5px;
      cursor: grab;
      margin-top: -8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    
    input[type="range"]::-moz-range-thumb {
      width: 48px;
      height: 24px;
      background: #1C59B5;
      border: 2px solid white;
      border-radius: 5px;
      cursor: grab;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    
    input[type="range"]::-webkit-slider-thumb:hover {
      background: #001C4A;
    }
    
    input[type="range"]::-moz-range-thumb:hover {
      background: #001C4A;
    }
    
    input[type="range"]::-webkit-slider-thumb:active {
      cursor: grabbing;
      background: #001C4A;
    }
    
    input[type="range"]::-moz-range-thumb:active {
      cursor: grabbing;
      background: #001C4A;
    }
    /* ========== END SLIDER STYLES ========== */
    

    @media (max-width: 900px){
      .main{grid-template-columns: 1fr;}
      .wheel-wrap{min-height: 460px;}
      
      .field{min-width: 100%;}
      .segmented button{min-width: 0; flex: 1;}
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .card {
      animation: fadeIn 0.5s ease-out;
    }
    
    .wheel {
      animation: fadeIn 0.8s ease-out 0.2s backwards;
    }

    /* ========== MOBILE ADAPTATION ========== */
    
    @media (max-width: 768px) {
      
    }
    @media (max-width: 768px) {
      .app {
        padding: 12px 8px;
        gap: 10px;
      }

      header {
        padding: 12px 14px;
      }

      .brand h1 {
        font-size: 16px;
      }

      .brand .sub {
        font-size: 11px;
      }

      .controls {
        padding: 12px 14px;
      }

      .row {
        flex-direction: column;
        align-items: stretch;
      }

      .field {
        min-width: unset;
        width: 100%;
      }

      .field.small {
        min-width: unset;
      }

      .segmented {
        flex-direction: column;
      }

      .segmented button {
        min-width: unset;
        width: 100%;
      }

      .tiles {
        flex-direction: column;
      }

      .tile {
        min-width: unset;
        width: 100%;
      }

      .weight {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
      }

      

      .num {
        width: 100%;
        text-align: center;
        font-size: 18px;
        padding: 12px;
      }

      .main {
        grid-template-columns: 1fr;
        gap: 10px;
      }

      .card {
        padding: 12px 14px;
      }

      .wheel-wrap {
        min-height: 380px;
        padding: 10px;
      }

      .wheel {
        width: min(380px, 100%);
      }

      .pointer {
        top: 8px;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-bottom: 18px solid var(--sandoz-dark-blue);
      }

      .center-badge {
        font-size: 12px;
        padding: 6px 10px;
      }

      .center-badge .pill {
        font-size: 11px;
        padding: 3px 6px;
      }

      .result h3 {
        font-size: 16px;
      }

      .result .big {
        font-size: 32px;
      }

      .result .line {
        font-size: 13px;
      }

      .chips {
        justify-content: flex-start;
      }

      .chip {
        flex: 1;
        min-width: 80px;
      }

      /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º */
      .modal {
        max-width: 95%;
        padding: 18px;
        max-height: 90vh;
      }

      .modal h3 {
        font-size: 18px !important;
      }

      /* Drawer –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º */
      .drawer {
        width: 100%;
        max-width: 100%;
      }

      .drawer header {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
      }

      .drawer header > div:last-child {
        flex-direction: row;
        justify-content: space-between;
      }

      /* –£–ª—É—á—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
      .btn {
        padding: 10px 14px;
        font-size: 13px;
      }

      .icon-btn {
        height: 34px;
        width: 34px;
      }

      /* –¢–∞–±–ª–∏—Ü–∞ –≤ drawer */
      .drawer table {
        font-size: 12px;
      }

      .drawer th,
      .drawer td {
        padding: 8px 6px;
      }
    }

    @media (max-width: 480px) {
      .app {
        padding: 8px 6px;
      }

      header {
        padding: 10px 12px;
      }

      .brand h1 {
        font-size: 14px;
      }

      .controls {
        padding: 10px 12px;
      }

      .card {
        padding: 10px 12px;
      }

      .wheel-wrap {
        min-height: 320px;
      }

      .wheel {
        width: min(320px, 100%);
      }

      .result .big {
        font-size: 28px;
      }

      .modal {
        padding: 15px;
      }

      /* –£–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç—ã –≤ –º–æ–¥–∞–ª–∫–µ */
      .modal h4 {
        font-size: 14px !important;
      }

      .modal p,
      .modal li {
        font-size: 12px !important;
      }
    }

    /* Landscape orientation –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö */
    @media (max-width: 768px) and (orientation: landscape) {
      .wheel-wrap {
        min-height: 280px;
      }

      .wheel {
        width: min(280px, 100%);
      }

      .main {
        grid-template-columns: 1fr 1fr;
      }
    }

    /* –£–ª—É—á—à–∞–µ–º touch targets –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    @media (hover: none) and (pointer: coarse) {
      .segmented button,
      .tile,
      .chip,
      .btn,
      .icon-btn {
        min-height: 44px;
      }

      

      input[type="number"] {
        min-height: 48px;
      }
    }

    .rotor {
      cursor: grab !important;
      user-select: none;
      -webkit-user-select: none;
      touch-action: none;
    }
    
    .rotor:active {
      cursor: grabbing !important;
    }
    
    .wheel-wrap {
      touch-action: none;
    }
    
    .wheel-interaction-hint {
      position: absolute;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(28, 89, 181, 0.95);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      pointer-events: none;
      z-index: 10;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      animation: pulse-hint 2s ease-in-out infinite;
    }
    
    @keyframes pulse-hint {
      0%, 100% { opacity: 0.8; transform: translateX(-50%) scale(1); }
      50% { opacity: 1; transform: translateX(-50%) scale(1.05); }
    }
    
    @media (max-width: 768px) {
      .wheel-interaction-hint {
        font-size: 11px;
        padding: 6px 12px;
        bottom: 10px;
      }
    }
  </style>
</head>
<body class="touch-device">
  <div class="toast" id="toast">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ</div>

  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-label="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;">
        <h3 style="margin: 0; font-family: var(--font-display); color: var(--sandoz-dark-blue); font-size: 22px;">üìñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
        <button class="icon-btn" id="closeModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>
      <div style="max-height: 70vh; overflow-y: auto; padding-right: 10px;">
        <p style="font-size: 14px; line-height: 1.6; color: var(--muted); margin-bottom: 20px;">
          <strong style="color: var(--sandoz-dark-blue);">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–æ–∑</strong> –ø–µ–¥–∏–∞—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –∞–Ω—Ç–∏–±–∏–æ—Ç–∏–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –¥–æ–∑–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –∫–∞—Ä—Ç –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.
        </p>

        <h4 style="margin: 20px 0 10px; color: var(--sandoz-dark-blue); font-size: 15px;">üíä –ü—Ä–µ–ø–∞—Ä–∞—Ç—ã –≤ –±–∞–∑–µ</h4>
        <ul style="list-style: none; padding: 0; margin: 0 0 20px 0;">
          <li style="padding: 8px 12px; background: rgba(28, 89, 181, 0.05); border-radius: 8px; margin-bottom: 6px;">
            <strong style="color: var(--sandoz-blue);">–ê–º–æ–∫—Å–∏–∫–ª–∞–≤¬Æ</strong><br>
            <span style="font-size: 12px; color: var(--muted);">3 –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ ‚Ä¢ –í–µ—Å 2-40 –∫–≥ ‚Ä¢ 20-70 –º–≥/–∫–≥/—Å—É—Ç–∫–∏</span>
          </li>
          <li style="padding: 8px 12px; background: rgba(28, 89, 181, 0.05); border-radius: 8px; margin-bottom: 6px;">
            <strong style="color: var(--sandoz-blue);">–û—Å–ø–∞–º–æ–∫—Å</strong><br>
            <span style="font-size: 12px; color: var(--muted);">2 –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ ‚Ä¢ –í–µ—Å 2-40 –∫–≥ ‚Ä¢ 40-90 –º–≥/–∫–≥/—Å—É—Ç–∫–∏ ‚Ä¢ 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å</span>
          </li>
          <li style="padding: 8px 12px; background: rgba(28, 89, 181, 0.05); border-radius: 8px;">
            <strong style="color: var(--sandoz-blue);">–ê–∑–∏–¥—Ä–∞—Ç</strong><br>
            <span style="font-size: 12px; color: var(--muted);">2 –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ ‚Ä¢ –í–µ—Å 5-45 –∫–≥ ‚Ä¢ 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏ ‚Ä¢ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å ‚Ä¢ 3 –¥–Ω—è</span>
          </li>
        </ul>

        <h4 style="margin: 20px 0 10px; color: var(--sandoz-dark-blue); font-size: 15px;">üéØ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</h4>
        <ol style="font-size: 13px; line-height: 1.7; color: var(--text); padding-left: 18px; margin-bottom: 20px;">
          <li style="margin-bottom: 8px;">–í—ã–±–µ—Ä–∏—Ç–µ <strong>–ø—Ä–µ–ø–∞—Ä–∞—Ç</strong> –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏</li>
          <li style="margin-bottom: 8px;">–í—ã–±–µ—Ä–∏—Ç–µ <strong>–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é</strong> (—Ñ–æ—Ä–º—É –≤—ã–ø—É—Å–∫–∞)</li>
          <li style="margin-bottom: 8px;">–í—ã–±–µ—Ä–∏—Ç–µ <strong>—Ä–µ–∂–∏–º –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è</strong> (–º–≥/–∫–≥/—Å—É—Ç–∫–∏)</li>
          <li style="margin-bottom: 8px;">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ <strong>–≤–µ—Å –ø–∞—Ü–∏–µ–Ω—Ç–∞</strong> —Å–ª–∞–π–¥–µ—Ä–æ–º –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é</li>
          <li style="margin-bottom: 8px;">–ö–æ–ª–µ—Å–æ <strong>–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç –¥–æ–∑—É</strong> –≤ –æ–∫–æ—à–∫–µ</li>
          <li>–ù–∞–∂–º–∏—Ç–µ <strong>"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ –∫–∞—Ä—Ç–µ"</strong> –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã</li>
        </ol>

        <h4 style="margin: 20px 0 10px; color: var(--sandoz-dark-blue); font-size: 15px;">üîÑ –í—Ä–∞—â–∞—é—â–µ–µ—Å—è –∫–æ–ª–µ—Å–æ</h4>
        <p style="font-size: 13px; line-height: 1.6; color: var(--text); margin-bottom: 20px;">
          –ö–æ–ª–µ—Å–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–µ—Å–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞, –ø–æ–∫–∞–∑—ã–≤–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–æ–∑—É –≤ –æ–∫–æ—à–∫–µ —Å–≤–µ—Ä—Ö—É. –≠—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–π –¥–æ–∑–∏—Ä–æ–≤–æ—á–Ω–æ–π –∫–∞—Ä—Ç—ã.
        </p>

        <h4 style="margin: 20px 0 10px; color: var(--sandoz-dark-blue); font-size: 15px;">‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è</h4>
        <ul style="font-size: 12px; line-height: 1.6; color: var(--muted); padding-left: 18px; margin-bottom: 20px;">
          <li style="margin-bottom: 6px;">–î–æ–∑—ã –±–µ—Ä—É—Ç—Å—è <strong>—Ç–æ–ª—å–∫–æ –∏–∑ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞</strong></li>
          <li style="margin-bottom: 6px;">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º <strong>–Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è</strong></li>
          <li style="margin-bottom: 6px;">–ï—Å–ª–∏ –¥–ª—è –≤–µ—Å–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç "–Ω–µ—Ç –¥–æ–∑—ã"</li>
          <li style="margin-bottom: 6px;">–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ <strong>–æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø–æ –≤–µ—Å—É</strong>:
            <ul style="margin-top: 4px; padding-left: 15px;">
              <li>–û—Å–ø–∞–º–æ–∫—Å 125 –º–≥/5 –º–ª: —Ç–æ–ª—å–∫–æ 2-10 –∫–≥</li>
              <li>–û—Å–ø–∞–º–æ–∫—Å 250 –º–≥/5 –º–ª: —Ç–æ–ª—å–∫–æ 10-40 –∫–≥</li>
            </ul>
          </li>
        </ul>

        <h4 style="margin: 20px 0 10px; color: var(--sandoz-dark-blue); font-size: 15px;">üè• –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</h4>
        <div style="background: linear-gradient(135deg, rgba(252, 82, 45, 0.1), rgba(213, 134, 44, 0.1)); border-left: 4px solid var(--sandoz-orange); padding: 12px 15px; border-radius: 8px; margin-bottom: 20px;">
          <p style="font-size: 12px; line-height: 1.5; color: var(--text); margin: 0;">
            ‚öïÔ∏è <strong>–î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏.</strong><br>
            –ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ—Å–µ—Ç –ª–µ—á–∞—â–∏–π –≤—Ä–∞—á. –î–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–ø—Ä–∞–≤–æ—á–Ω—ã–º –ø–æ—Å–æ–±–∏–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –¥–æ–∑–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –∫–∞—Ä—Ç –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.
          </p>
        </div>

        <h4 style="margin: 20px 0 10px; color: var(--sandoz-dark-blue); font-size: 15px;">üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h4>
        <ul style="font-size: 12px; line-height: 1.6; color: var(--muted); padding-left: 18px; margin-bottom: 20px;">
          <li style="margin-bottom: 6px;">–î–∏–∑–∞–π–Ω –≤ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ <strong>Sandoz</strong></li>
          <li style="margin-bottom: 6px;">–ü—Ä–µ–º–∏—É–º —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞: <strong>Sora + IBM Plex Sans</strong></li>
          <li style="margin-bottom: 6px;">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ –∏ –±—Ä–µ–Ω–¥–∏–Ω–≥</li>
          <li style="margin-bottom: 6px;">–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö</li>
          <li style="margin-bottom: 6px;">–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é <strong>–æ—Ñ–ª–∞–π–Ω</strong> –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏</li>
          <li style="margin-bottom: 6px;">–ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞</li>
        </ul>

        <div style="text-align: center; padding: 15px; background: rgba(28, 89, 181, 0.05); border-radius: 10px; margin-top: 25px;">
          <p style="font-size: 11px; color: var(--muted); margin: 0;">
            <strong style="color: var(--sandoz-blue);">Sandoz</strong> ‚Ä¢ –î–æ–∑–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∫–∞—Ä—Ç—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ ‚Ä¢ 2026
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="drawer-backdrop" id="drawerBackdrop" aria-hidden="true"></div>
  <div class="drawer" id="drawer" aria-hidden="true">
    <header>
      <div class="brand">
        <h1>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–∞—Ä—Ç–µ</h1>
        <div class="sub" id="drawerSub"></div>
      </div>
      <div style="display:flex; gap:10px; align-items:center;">
        <button class="btn" id="toggleAll">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—é —Ç–∞–±–ª–∏—Ü—É</button>
        <button class="icon-btn" id="closeDrawer" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>
    </header>
    <div class="content">
      <div class="note" id="drawerNote"></div>
      <div style="overflow:auto;">
        <table>
          <thead>
            <tr>
              <th style="width:120px;">–í–µ—Å</th>
              <th style="width:160px;">–†–µ–∂–∏–º</th>
              <th style="width:140px;">–ú–ª / –ø—Ä–∏—ë–º</th>
              <th style="width:120px;">–†–∞–∑/—Å—É—Ç</th>
              <th>–ò—Å—Ç–æ—á–Ω–∏–∫</th>
            </tr>
          </thead>
          <tbody id="drawerTbody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="app">
    <header>
      <div class="brand">
        <h1>Dosing Wheel ¬∑ KZ</h1>
        <div class="sub" id="subtitle">–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –¥–æ–∑-–∫–∞—Ä—Ç–µ</div>
      </div>
      <button class="icon-btn" id="infoBtn" aria-label="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">i</button>
    </header>

    <section class="controls" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">
      <div class="row">
        <div class="field">
          <div class="label">–ü—Ä–µ–ø–∞—Ä–∞—Ç</div>
          <div class="segmented" id="productSeg" role="group" aria-label="–ü—Ä–µ–ø–∞—Ä–∞—Ç"></div>
        </div>

        <div class="field">
          <div class="label">–§–æ—Ä–º–∞ / –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è</div>
          <div class="tiles" id="variantTiles"></div>
        </div>

        <div class="field small" id="mgkgField" style="display:none;">
          <div class="label">–†–µ–∂–∏–º (–º–≥/–∫–≥/—Å—É—Ç)</div>
          <div class="chips" id="mgkgChips"></div>
        </div>

        <div class="field small">
          <div class="label">–í–µ—Å —Ä–µ–±—ë–Ω–∫–∞</div>
          <div class="weight">
            <input type="range" id="weightRange" min="2" max="45" step="1" value="10" aria-label="–í–µ—Å, –∫–≥">
            <input type="number" id="weightInput" class="num" min="2" max="45" step="1" value="10" inputmode="numeric" aria-label="–í–µ—Å, –∫–≥">
            <div style="font-weight:900; color:var(--muted);">–∫–≥</div>
          </div>
          <div class="hint" id="weightHint"></div>
        </div>
      </div>
    </section>

    <section class="main">
      <div class="card wheel-wrap" aria-label="–ö–æ–ª–µ—Å–æ –¥–æ–∑">
        <div class="wheel" id="wheel">
          <div class="pointer" aria-hidden="true"></div>
          <svg class="wheel-svg" viewBox="0 0 500 500" aria-hidden="true">
            <g id="rotor" class="rotor"></g>
            <circle cx="250" cy="250" r="214" fill="none" stroke="rgba(11,42,74,0.12)" stroke-width="2"></circle>
            <circle cx="250" cy="250" r="110" fill="rgba(255,255,255,0.9)" stroke="rgba(11,42,74,0.10)" stroke-width="2"></circle>
          </svg>

          <div class="center-badge" id="centerBadge">
            <span class="pill" id="badgeProduct">‚Äî</span>
            <span id="badgeVariant">‚Äî</span>
          </div>

          <div class="windows" id="windows"></div>
        </div>
      </div>

      <div class="card result" aria-label="–†–µ–∑—É–ª—å—Ç–∞—Ç">
        <h2 id="resultTitle">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</h2>

        <div class="kv" aria-live="polite">
          <div class="line">
            <div class="k">–†–∞–∑–æ–≤–∞—è –¥–æ–∑–∞</div>
            <div class="v" id="doseMl">‚Äî</div>
          </div>
          <div class="line">
            <div class="k">–ö—Ä–∞—Ç–Ω–æ—Å—Ç—å</div>
            <div class="v small" id="freq">‚Äî</div>
          </div>
          <div class="line">
            <div class="k">–°—É—Ç–æ—á–Ω–æ</div>
            <div class="v" id="daily">‚Äî</div>
          </div>
          <div class="line" id="courseLine" style="display:none;">
            <div class="k">–ö—É—Ä—Å</div>
            <div class="v small" id="course">‚Äî</div>
          </div>
          <div class="line" id="regimenLine" style="display:none;">
            <div class="k">–†–µ–∂–∏–º</div>
            <div class="v small" id="regimen">‚Äî</div>
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="copyBtn" disabled>–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ</button>
          <button class="btn" id="checkBtn">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–∞—Ä—Ç–µ</button>
        </div>

        <div class="note" id="note"></div>
      </div>
    </section>
  </div>

  <!-- Embedded registry -->
  <script id="registryData" type="application/json">{
  "meta": {
    "source_file": "–î–æ–∑.–∫–∞—Ä—Ç—ã –ö–ó.xlsx",
    "generated_date": "2026-01-28",
    "locale": "ru-KZ",
    "notes": [
      "–í—Å–µ –¥–æ–∑—ã –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ 3 –≤–∫–ª–∞–¥–æ–∫ Excel; –∑–Ω–∞—á–µ–Ω–∏—è '-' –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ/–Ω–µ–ø—Ä–∏–º–µ–Ω–∏–º—ã–µ.",
      "–î–ª—è –ê–º–æ–∫—Å–∏–∫–ª–∞–≤ –∏ –û—Å–ø–∞–º–æ–∫—Å —á–∞—Å—Ç–æ—Ç–∞ –ø—Ä–∏–µ–º–æ–≤ –≤—ã–≤–µ–¥–µ–Ω–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Ç–∞–±–ª–∏—Ü (2 —Ä–∞–∑–∞/—Å—É—Ç–∫–∏) –∏ –ª–æ–≥–∏–∫–∏ —Ä–∞–∑–æ–≤—ã—Ö –¥–æ–∑; –≤ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è freq_per_day.",
      "–î–ª—è –ê–∑–∏–¥—Ä–∞—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è dose_mg_per_administration_calc (–ø–æ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞) –∏ dose_mg_per_administration_from_text (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ —Å–∫–æ–±–∫–∞—Ö)."
    ]
  },
  "products": [
    {
      "product_id": "amoxiclav",
      "brand_ru": "–ê–º–æ–∫—Å–∏–∫–ª–∞–≤",
      "inn_ru": "–∞–º–æ–∫—Å–∏—Ü–∏–ª–ª–∏–Ω/–∫–ª–∞–≤—É–ª–∞–Ω–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞",
      "market": "KZ"
    },
    {
      "product_id": "ospamox",
      "brand_ru": "–û—Å–ø–∞–º–æ–∫—Å",
      "inn_ru": "–∞–º–æ–∫—Å–∏—Ü–∏–ª–ª–∏–Ω",
      "market": "KZ"
    },
    {
      "product_id": "azidrat",
      "brand_ru": "–ê–∑–∏–¥—Ä–∞—Ç",
      "inn_ru": "–∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω",
      "market": "KZ"
    }
  ],
  "variants": [
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "product_id": "amoxiclav",
      "title_ru": "–†–∞—Å—á–µ—Ç —Ä–∞–∑–æ–≤–æ–π –¥–æ–∑—ã –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ –ê–º–æ–∫—Å–∏–∫–ª–∞–≤¬Æ 156,25 –º–≥/5 –º–ª",
      "strength_label_ru": "156,25 –º–≥/5 –º–ª",
      "dose_basis": "mgkg_per_day",
      "freq_per_day": 3,
      "mgkg_options": [
        20.0,
        40.0,
        60.0
      ],
      "weight_min_kg": 2.0,
      "weight_max_kg": 20.0,
      "coverage_by_mgkg": [
        {
          "mgkg_per_day": 20.0,
          "weight_min_kg": 2.0,
          "weight_max_kg": 20.0,
          "rows": 19
        },
        {
          "mgkg_per_day": 40.0,
          "weight_min_kg": 2.0,
          "weight_max_kg": 20.0,
          "rows": 19
        },
        {
          "mgkg_per_day": 60.0,
          "weight_min_kg": 2.0,
          "weight_max_kg": 6.0,
          "rows": 5
        }
      ],
      "therapy_days": null,
      "target_mgkg_per_day": null
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "product_id": "amoxiclav",
      "title_ru": "–†–∞—Å—á–µ—Ç —Ä–∞–∑–æ–≤–æ–π –¥–æ–∑—ã –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ –ê–º–æ–∫—Å–∏–∫–ª–∞–≤¬Æ 312,5 –º–≥/5 –º–ª",
      "strength_label_ru": "312,5 –º–≥/5 –º–ª",
      "dose_basis": "mgkg_per_day",
      "freq_per_day": 3,
      "mgkg_options": [
        20.0,
        40.0,
        60.0
      ],
      "weight_min_kg": 3.0,
      "weight_max_kg": 39.0,
      "coverage_by_mgkg": [
        {
          "mgkg_per_day": 20.0,
          "weight_min_kg": 3.0,
          "weight_max_kg": 39.0,
          "rows": 37
        },
        {
          "mgkg_per_day": 40.0,
          "weight_min_kg": 3.0,
          "weight_max_kg": 39.0,
          "rows": 37
        },
        {
          "mgkg_per_day": 60.0,
          "weight_min_kg": 3.0,
          "weight_max_kg": 13.0,
          "rows": 11
        }
      ],
      "therapy_days": null,
      "target_mgkg_per_day": null
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "product_id": "amoxiclav",
      "title_ru": "–†–∞—Å—á–µ—Ç —Ä–∞–∑–æ–≤–æ–π –¥–æ–∑—ã –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ –ê–º–æ–∫—Å–∏–∫–ª–∞–≤¬Æ 457–º–≥/5 –º–ª",
      "strength_label_ru": "457 –º–≥/5 –º–ª",
      "dose_basis": "mgkg_per_day",
      "freq_per_day": 2,
      "mgkg_options": [
        25.0,
        45.0,
        70.0
      ],
      "weight_min_kg": 5.0,
      "weight_max_kg": 40.0,
      "coverage_by_mgkg": [
        {
          "mgkg_per_day": 25.0,
          "weight_min_kg": 5.0,
          "weight_max_kg": 40.0,
          "rows": 16
        },
        {
          "mgkg_per_day": 45.0,
          "weight_min_kg": 5.0,
          "weight_max_kg": 40.0,
          "rows": 16
        },
        {
          "mgkg_per_day": 70.0,
          "weight_min_kg": 13.0,
          "weight_max_kg": 40.0,
          "rows": 8
        }
      ],
      "therapy_days": null,
      "target_mgkg_per_day": null
    },
    {
      "variant_id": "azidrat_100_5ml",
      "product_id": "azidrat",
      "title_ru": "–ê–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω, 100–º–≥/5 –º–ª",
      "strength_label_ru": "100 –º–≥/5 –º–ª",
      "dose_basis": "fixed_by_weight",
      "freq_per_day": 1,
      "mgkg_options": [],
      "weight_min_kg": 5.0,
      "weight_max_kg": 45.0,
      "coverage_by_mgkg": [],
      "therapy_days": 3,
      "target_mgkg_per_day": 10
    },
    {
      "variant_id": "azidrat_200_5ml",
      "product_id": "azidrat",
      "title_ru": "–ê–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω, 200–º–≥/5 –º–ª",
      "strength_label_ru": "200 –º–≥/5 –º–ª",
      "dose_basis": "fixed_by_weight",
      "freq_per_day": 1,
      "mgkg_options": [],
      "weight_min_kg": 10.0,
      "weight_max_kg": 45.0,
      "coverage_by_mgkg": [],
      "therapy_days": 3,
      "target_mgkg_per_day": 10
    },
    {
      "variant_id": "ospamox_125_5ml",
      "product_id": "ospamox",
      "title_ru": "–î–æ–∑–∏—Ä–æ–≤–æ—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ –û—Å–ø–∞–º–æ–∫—Å 125 –º–≥/5 –º–ª –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–∞—Å—Å—ã —Ç–µ–ª–∞",
      "strength_label_ru": "125 –º–≥/5 –º–ª",
      "dose_basis": "mgkg_per_day",
      "freq_per_day": 2,
      "mgkg_options": [
        40.0,
        50.0,
        90.0
      ],
      "weight_min_kg": 2.0,
      "weight_max_kg": 10.0,
      "coverage_by_mgkg": [
        {
          "mgkg_per_day": 40.0,
          "weight_min_kg": 2.0,
          "weight_max_kg": 10.0,
          "rows": 9
        },
        {
          "mgkg_per_day": 50.0,
          "weight_min_kg": 2.0,
          "weight_max_kg": 7.0,
          "rows": 6
        },
        {
          "mgkg_per_day": 90.0,
          "weight_min_kg": 2.0,
          "weight_max_kg": 4.0,
          "rows": 3
        }
      ],
      "therapy_days": null,
      "target_mgkg_per_day": null
    },
    {
      "variant_id": "ospamox_250_5ml",
      "product_id": "ospamox",
      "title_ru": "–î–æ–∑–∏—Ä–æ–≤–æ—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ –û—Å–ø–∞–º–æ–∫—Å 250 –º–≥/5 –º–ª –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–∞—Å—Å—ã —Ç–µ–ª–∞",
      "strength_label_ru": "250 –º–≥/5 –º–ª",
      "dose_basis": "mgkg_per_day",
      "freq_per_day": 2,
      "mgkg_options": [
        40.0,
        50.0
      ],
      "weight_min_kg": 10.0,
      "weight_max_kg": 40.0,
      "coverage_by_mgkg": [
        {
          "mgkg_per_day": 40.0,
          "weight_min_kg": 10.0,
          "weight_max_kg": 40.0,
          "rows": 15
        },
        {
          "mgkg_per_day": 50.0,
          "weight_min_kg": 10.0,
          "weight_max_kg": 15.0,
          "rows": 6
        }
      ],
      "therapy_days": null,
      "target_mgkg_per_day": null
    }
  ],
  "dose_rows": [
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 2.0,
      "weight_max_kg": 2.0,
      "dose_ml": 0.5,
      "freq_per_day": 3,
      "label_raw": "0,5 –º–ª",
      "weight_raw": "2",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 2.0,
      "weight_max_kg": 2.0,
      "dose_ml": 1.0,
      "freq_per_day": 3,
      "label_raw": "1,0 –º–ª",
      "weight_raw": "2",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 2.0,
      "weight_max_kg": 2.0,
      "dose_ml": 1.6,
      "freq_per_day": 3,
      "label_raw": "1,6 –º–ª",
      "weight_raw": "2",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 0.8,
      "freq_per_day": 3,
      "label_raw": "0,8 –º–ª",
      "weight_raw": "3",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 1.6,
      "freq_per_day": 3,
      "label_raw": "1,6 –º–ª",
      "weight_raw": "3",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 2.4,
      "freq_per_day": 3,
      "label_raw": "2,4 –º–ª",
      "weight_raw": "3",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 1.1,
      "freq_per_day": 3,
      "label_raw": "1,1 –º–ª",
      "weight_raw": "4",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 2.1,
      "freq_per_day": 3,
      "label_raw": "2,1 –º–ª",
      "weight_raw": "4",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 3.2,
      "freq_per_day": 3,
      "label_raw": "3,2 –º–ª",
      "weight_raw": "4",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 1.3,
      "freq_per_day": 3,
      "label_raw": "1,3 –º–ª",
      "weight_raw": "5",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 2.7,
      "freq_per_day": 3,
      "label_raw": "2,7 –º–ª",
      "weight_raw": "5",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 4.0,
      "freq_per_day": 3,
      "label_raw": "4 –º–ª",
      "weight_raw": "5",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 1.6,
      "freq_per_day": 3,
      "label_raw": "1,6 –º–ª",
      "weight_raw": "6",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 3.2,
      "freq_per_day": 3,
      "label_raw": "3,2 –º–ª",
      "weight_raw": "6",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 4.8,
      "freq_per_day": 3,
      "label_raw": "4,8 –º–ª",
      "weight_raw": "6",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 1.9,
      "freq_per_day": 3,
      "label_raw": "1,9 –º–ª",
      "weight_raw": "7",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 3.7,
      "freq_per_day": 3,
      "label_raw": "3,7 –º–ª",
      "weight_raw": "7",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 2.1,
      "freq_per_day": 3,
      "label_raw": "2,1 –º–ª",
      "weight_raw": "8",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 4.3,
      "freq_per_day": 3,
      "label_raw": "4,3 –º–ª",
      "weight_raw": "8",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 2.4,
      "freq_per_day": 3,
      "label_raw": "2,4 –º–ª",
      "weight_raw": "9",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 4.8,
      "freq_per_day": 3,
      "label_raw": "4,8 –º–ª",
      "weight_raw": "9",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 2.7,
      "freq_per_day": 3,
      "label_raw": "2,7 –º–ª",
      "weight_raw": "10",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 5.3,
      "freq_per_day": 3,
      "label_raw": "5,3 –º–ª",
      "weight_raw": "10",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 2.9,
      "freq_per_day": 3,
      "label_raw": "2,9 –º–ª",
      "weight_raw": "11",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 5.9,
      "freq_per_day": 3,
      "label_raw": "5,9 –º–ª",
      "weight_raw": "11",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 3.2,
      "freq_per_day": 3,
      "label_raw": "3,2 –º–ª",
      "weight_raw": "12",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 6.4,
      "freq_per_day": 3,
      "label_raw": "6,4 –º–ª",
      "weight_raw": "12",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 3.5,
      "freq_per_day": 3,
      "label_raw": "3,5 –º–ª",
      "weight_raw": "13",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 6.9,
      "freq_per_day": 3,
      "label_raw": "6,9 –º–ª",
      "weight_raw": "13",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 3.7,
      "freq_per_day": 3,
      "label_raw": "3,7 –º–ª",
      "weight_raw": "14",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 7.5,
      "freq_per_day": 3,
      "label_raw": "7,5 –º–ª",
      "weight_raw": "14",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 4.0,
      "freq_per_day": 3,
      "label_raw": "4,0 –º–ª",
      "weight_raw": "15",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 8.0,
      "freq_per_day": 3,
      "label_raw": "8,0 –º–ª",
      "weight_raw": "15",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 16.0,
      "weight_max_kg": 16.0,
      "dose_ml": 4.3,
      "freq_per_day": 3,
      "label_raw": "4,3 –º–ª",
      "weight_raw": "16",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 16.0,
      "weight_max_kg": 16.0,
      "dose_ml": 8.5,
      "freq_per_day": 3,
      "label_raw": "8,5 –º–ª",
      "weight_raw": "16",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 17.0,
      "weight_max_kg": 17.0,
      "dose_ml": 4.5,
      "freq_per_day": 3,
      "label_raw": "4,5 –º–ª",
      "weight_raw": "17",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 17.0,
      "weight_max_kg": 17.0,
      "dose_ml": 9.1,
      "freq_per_day": 3,
      "label_raw": "9,1 –º–ª",
      "weight_raw": "17",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 18.0,
      "weight_max_kg": 18.0,
      "dose_ml": 4.8,
      "freq_per_day": 3,
      "label_raw": "4,8 –º–ª",
      "weight_raw": "18",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 18.0,
      "weight_max_kg": 18.0,
      "dose_ml": 9.6,
      "freq_per_day": 3,
      "label_raw": "9,6 –º–ª",
      "weight_raw": "18",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 19.0,
      "weight_max_kg": 19.0,
      "dose_ml": 5.1,
      "freq_per_day": 3,
      "label_raw": "5,1 –º–ª",
      "weight_raw": "19",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 19.0,
      "weight_max_kg": 19.0,
      "dose_ml": 10.1,
      "freq_per_day": 3,
      "label_raw": "10,1 –º–ª",
      "weight_raw": "19",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 5.3,
      "freq_per_day": 3,
      "label_raw": "5,3 –º–ª",
      "weight_raw": "20",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_156_25_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 10.7,
      "freq_per_day": 3,
      "label_raw": "10,7 –º–ª",
      "weight_raw": "20",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 0.4,
      "freq_per_day": 3,
      "label_raw": "0.4",
      "weight_raw": "3",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 0.8,
      "freq_per_day": 3,
      "label_raw": "0.8",
      "weight_raw": "3",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 1.2,
      "freq_per_day": 3,
      "label_raw": "1.2",
      "weight_raw": "3",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 0.5,
      "freq_per_day": 3,
      "label_raw": "0.5",
      "weight_raw": "4",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 1.1,
      "freq_per_day": 3,
      "label_raw": "1.1",
      "weight_raw": "4",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 1.6,
      "freq_per_day": 3,
      "label_raw": "1.6",
      "weight_raw": "4",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 0.7,
      "freq_per_day": 3,
      "label_raw": "0.7",
      "weight_raw": "5",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 1.3,
      "freq_per_day": 3,
      "label_raw": "1.3",
      "weight_raw": "5",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 2.0,
      "freq_per_day": 3,
      "label_raw": "2",
      "weight_raw": "5",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 0.8,
      "freq_per_day": 3,
      "label_raw": "0.8",
      "weight_raw": "6",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 1.6,
      "freq_per_day": 3,
      "label_raw": "1.6",
      "weight_raw": "6",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 2.4,
      "freq_per_day": 3,
      "label_raw": "2.4",
      "weight_raw": "6",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 0.9,
      "freq_per_day": 3,
      "label_raw": "0.9",
      "weight_raw": "7",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 1.9,
      "freq_per_day": 3,
      "label_raw": "1.9",
      "weight_raw": "7",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 2.8,
      "freq_per_day": 3,
      "label_raw": "2.8",
      "weight_raw": "7",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 1.1,
      "freq_per_day": 3,
      "label_raw": "1.1",
      "weight_raw": "8",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 2.1,
      "freq_per_day": 3,
      "label_raw": "2.1",
      "weight_raw": "8",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 3.2,
      "freq_per_day": 3,
      "label_raw": "3.2",
      "weight_raw": "8",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 1.2,
      "freq_per_day": 3,
      "label_raw": "1.2",
      "weight_raw": "9",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 2.4,
      "freq_per_day": 3,
      "label_raw": "2.4",
      "weight_raw": "9",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 3.6,
      "freq_per_day": 3,
      "label_raw": "3.6",
      "weight_raw": "9",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 1.3,
      "freq_per_day": 3,
      "label_raw": "1.3",
      "weight_raw": "10",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 2.7,
      "freq_per_day": 3,
      "label_raw": "2.7",
      "weight_raw": "10",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 4.0,
      "freq_per_day": 3,
      "label_raw": "4",
      "weight_raw": "10",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 1.5,
      "freq_per_day": 3,
      "label_raw": "1.5",
      "weight_raw": "11",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 2.9,
      "freq_per_day": 3,
      "label_raw": "2.9",
      "weight_raw": "11",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 4.4,
      "freq_per_day": 3,
      "label_raw": "4.4",
      "weight_raw": "11",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 1.6,
      "freq_per_day": 3,
      "label_raw": "1.6",
      "weight_raw": "12",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 3.2,
      "freq_per_day": 3,
      "label_raw": "3.2",
      "weight_raw": "12",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 4.8,
      "freq_per_day": 3,
      "label_raw": "4.8",
      "weight_raw": "12",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 1.7,
      "freq_per_day": 3,
      "label_raw": "1.7",
      "weight_raw": "13",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 3.5,
      "freq_per_day": 3,
      "label_raw": "3.5",
      "weight_raw": "13",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 5.2,
      "freq_per_day": 3,
      "label_raw": "5.2",
      "weight_raw": "13",
      "mgkg_per_day": 60.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 1.9,
      "freq_per_day": 3,
      "label_raw": "1.9",
      "weight_raw": "14",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 3.7,
      "freq_per_day": 3,
      "label_raw": "3.7",
      "weight_raw": "14",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 2.0,
      "freq_per_day": 3,
      "label_raw": "2",
      "weight_raw": "15",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 4.0,
      "freq_per_day": 3,
      "label_raw": "4",
      "weight_raw": "15",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 16.0,
      "weight_max_kg": 16.0,
      "dose_ml": 2.1,
      "freq_per_day": 3,
      "label_raw": "2.1",
      "weight_raw": "16",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 16.0,
      "weight_max_kg": 16.0,
      "dose_ml": 4.3,
      "freq_per_day": 3,
      "label_raw": "4.3",
      "weight_raw": "16",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 17.0,
      "weight_max_kg": 17.0,
      "dose_ml": 2.3,
      "freq_per_day": 3,
      "label_raw": "2.3",
      "weight_raw": "17",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 17.0,
      "weight_max_kg": 17.0,
      "dose_ml": 4.5,
      "freq_per_day": 3,
      "label_raw": "4.5",
      "weight_raw": "17",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 18.0,
      "weight_max_kg": 18.0,
      "dose_ml": 2.4,
      "freq_per_day": 3,
      "label_raw": "2.4",
      "weight_raw": "18",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 18.0,
      "weight_max_kg": 18.0,
      "dose_ml": 4.8,
      "freq_per_day": 3,
      "label_raw": "4.8",
      "weight_raw": "18",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 19.0,
      "weight_max_kg": 19.0,
      "dose_ml": 2.5,
      "freq_per_day": 3,
      "label_raw": "2.5",
      "weight_raw": "19",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 19.0,
      "weight_max_kg": 19.0,
      "dose_ml": 5.1,
      "freq_per_day": 3,
      "label_raw": "5.1",
      "weight_raw": "19",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 2.7,
      "freq_per_day": 3,
      "label_raw": "2.7",
      "weight_raw": "20",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 5.3,
      "freq_per_day": 3,
      "label_raw": "5.3",
      "weight_raw": "20",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 21.0,
      "weight_max_kg": 21.0,
      "dose_ml": 2.8,
      "freq_per_day": 3,
      "label_raw": "2.8",
      "weight_raw": "21",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 21.0,
      "weight_max_kg": 21.0,
      "dose_ml": 5.6,
      "freq_per_day": 3,
      "label_raw": "5.6",
      "weight_raw": "21",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 22.0,
      "weight_max_kg": 22.0,
      "dose_ml": 2.9,
      "freq_per_day": 3,
      "label_raw": "2.9",
      "weight_raw": "22",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 22.0,
      "weight_max_kg": 22.0,
      "dose_ml": 5.9,
      "freq_per_day": 3,
      "label_raw": "5.9",
      "weight_raw": "22",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 23.0,
      "weight_max_kg": 23.0,
      "dose_ml": 3.1,
      "freq_per_day": 3,
      "label_raw": "3.1",
      "weight_raw": "23",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 23.0,
      "weight_max_kg": 23.0,
      "dose_ml": 6.1,
      "freq_per_day": 3,
      "label_raw": "6.1",
      "weight_raw": "23",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 24.0,
      "weight_max_kg": 24.0,
      "dose_ml": 3.2,
      "freq_per_day": 3,
      "label_raw": "3.2",
      "weight_raw": "24",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 24.0,
      "weight_max_kg": 24.0,
      "dose_ml": 6.4,
      "freq_per_day": 3,
      "label_raw": "6.4",
      "weight_raw": "24",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 25.0,
      "weight_max_kg": 25.0,
      "dose_ml": 3.3,
      "freq_per_day": 3,
      "label_raw": "3.3",
      "weight_raw": "25",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 25.0,
      "weight_max_kg": 25.0,
      "dose_ml": 6.7,
      "freq_per_day": 3,
      "label_raw": "6.7",
      "weight_raw": "25",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 26.0,
      "weight_max_kg": 26.0,
      "dose_ml": 3.5,
      "freq_per_day": 3,
      "label_raw": "3.5",
      "weight_raw": "26",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 26.0,
      "weight_max_kg": 26.0,
      "dose_ml": 6.9,
      "freq_per_day": 3,
      "label_raw": "6.9",
      "weight_raw": "26",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 27.0,
      "weight_max_kg": 27.0,
      "dose_ml": 3.6,
      "freq_per_day": 3,
      "label_raw": "3.6",
      "weight_raw": "27",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 27.0,
      "weight_max_kg": 27.0,
      "dose_ml": 7.2,
      "freq_per_day": 3,
      "label_raw": "7.2",
      "weight_raw": "27",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 28.0,
      "weight_max_kg": 28.0,
      "dose_ml": 3.7,
      "freq_per_day": 3,
      "label_raw": "3.7",
      "weight_raw": "28",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 28.0,
      "weight_max_kg": 28.0,
      "dose_ml": 7.5,
      "freq_per_day": 3,
      "label_raw": "7.5",
      "weight_raw": "28",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 29.0,
      "weight_max_kg": 29.0,
      "dose_ml": 3.9,
      "freq_per_day": 3,
      "label_raw": "3.9",
      "weight_raw": "29",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 29.0,
      "weight_max_kg": 29.0,
      "dose_ml": 7.7,
      "freq_per_day": 3,
      "label_raw": "7.7",
      "weight_raw": "29",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 30.0,
      "weight_max_kg": 30.0,
      "dose_ml": 4.0,
      "freq_per_day": 3,
      "label_raw": "4",
      "weight_raw": "30",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 30.0,
      "weight_max_kg": 30.0,
      "dose_ml": 8.0,
      "freq_per_day": 3,
      "label_raw": "8",
      "weight_raw": "30",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 31.0,
      "weight_max_kg": 31.0,
      "dose_ml": 4.1,
      "freq_per_day": 3,
      "label_raw": "4.1",
      "weight_raw": "31",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 31.0,
      "weight_max_kg": 31.0,
      "dose_ml": 8.3,
      "freq_per_day": 3,
      "label_raw": "8.3",
      "weight_raw": "31",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 32.0,
      "weight_max_kg": 32.0,
      "dose_ml": 4.3,
      "freq_per_day": 3,
      "label_raw": "4.3",
      "weight_raw": "32",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 32.0,
      "weight_max_kg": 32.0,
      "dose_ml": 8.5,
      "freq_per_day": 3,
      "label_raw": "8.5",
      "weight_raw": "32",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 33.0,
      "weight_max_kg": 33.0,
      "dose_ml": 4.4,
      "freq_per_day": 3,
      "label_raw": "4.4",
      "weight_raw": "33",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 33.0,
      "weight_max_kg": 33.0,
      "dose_ml": 8.8,
      "freq_per_day": 3,
      "label_raw": "8.8",
      "weight_raw": "33",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 34.0,
      "weight_max_kg": 34.0,
      "dose_ml": 4.5,
      "freq_per_day": 3,
      "label_raw": "4.5",
      "weight_raw": "34",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 34.0,
      "weight_max_kg": 34.0,
      "dose_ml": 9.1,
      "freq_per_day": 3,
      "label_raw": "9.1",
      "weight_raw": "34",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 35.0,
      "weight_max_kg": 35.0,
      "dose_ml": 4.7,
      "freq_per_day": 3,
      "label_raw": "4.7",
      "weight_raw": "35",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 35.0,
      "weight_max_kg": 35.0,
      "dose_ml": 9.3,
      "freq_per_day": 3,
      "label_raw": "9.3",
      "weight_raw": "35",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 36.0,
      "weight_max_kg": 36.0,
      "dose_ml": 4.8,
      "freq_per_day": 3,
      "label_raw": "4.8",
      "weight_raw": "36",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 36.0,
      "weight_max_kg": 36.0,
      "dose_ml": 9.6,
      "freq_per_day": 3,
      "label_raw": "9.6",
      "weight_raw": "36",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 37.0,
      "weight_max_kg": 37.0,
      "dose_ml": 4.9,
      "freq_per_day": 3,
      "label_raw": "4.9",
      "weight_raw": "37",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 37.0,
      "weight_max_kg": 37.0,
      "dose_ml": 9.9,
      "freq_per_day": 3,
      "label_raw": "9.9",
      "weight_raw": "37",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 38.0,
      "weight_max_kg": 38.0,
      "dose_ml": 5.1,
      "freq_per_day": 3,
      "label_raw": "5.1",
      "weight_raw": "38",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 38.0,
      "weight_max_kg": 38.0,
      "dose_ml": 10.1,
      "freq_per_day": 3,
      "label_raw": "10.1",
      "weight_raw": "38",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 39.0,
      "weight_max_kg": 39.0,
      "dose_ml": 5.2,
      "freq_per_day": 3,
      "label_raw": "5.2",
      "weight_raw": "39",
      "mgkg_per_day": 20.0
    },
    {
      "variant_id": "amoxiclav_312_5_5ml",
      "weight_min_kg": 39.0,
      "weight_max_kg": 39.0,
      "dose_ml": 10.4,
      "freq_per_day": 3,
      "label_raw": "10.4",
      "weight_raw": "39",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 0.8,
      "freq_per_day": 2,
      "label_raw": "0,8 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "5",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 1.4,
      "freq_per_day": 2,
      "label_raw": "1,4 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "5",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 0.9,
      "freq_per_day": 2,
      "label_raw": "0,9 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "6",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 1.7,
      "freq_per_day": 2,
      "label_raw": "1,7 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "6",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 1.1,
      "freq_per_day": 2,
      "label_raw": "1,1 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "7",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 2.0,
      "freq_per_day": 2,
      "label_raw": "2,0 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "7",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 1.3,
      "freq_per_day": 2,
      "label_raw": "1,3 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "8",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 2.3,
      "freq_per_day": 2,
      "label_raw": "2,3 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "8",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 1.4,
      "freq_per_day": 2,
      "label_raw": "1,4 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "9",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 2.5,
      "freq_per_day": 2,
      "label_raw": "2,5 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "9",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 1.6,
      "freq_per_day": 2,
      "label_raw": "1,6 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "10",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 2.8,
      "freq_per_day": 2,
      "label_raw": "2,8 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "10",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 1.7,
      "freq_per_day": 2,
      "label_raw": "1,7 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "11",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 3.1,
      "freq_per_day": 2,
      "label_raw": "3,1 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "11",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 1.9,
      "freq_per_day": 2,
      "label_raw": "1,9 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "12",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 3.4,
      "freq_per_day": 2,
      "label_raw": "3,4 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "12",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 2.0,
      "freq_per_day": 2,
      "label_raw": "2,0 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "13",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 3.7,
      "freq_per_day": 2,
      "label_raw": "3,7 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "13",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 5.7,
      "freq_per_day": 2,
      "label_raw": "5,7 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "13",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 2.2,
      "freq_per_day": 2,
      "label_raw": "2,2 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "14",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 3.9,
      "freq_per_day": 2,
      "label_raw": "3,9 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "14",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 6.0,
      "freq_per_day": 2,
      "label_raw": "6,0 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "14",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 2.3,
      "freq_per_day": 2,
      "label_raw": "2,3 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "15",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 4.2,
      "freq_per_day": 2,
      "label_raw": "4,2 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "15",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 6.5,
      "freq_per_day": 2,
      "label_raw": "6,5 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "15",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 3.1,
      "freq_per_day": 2,
      "label_raw": "3,1 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "20",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 5.6,
      "freq_per_day": 2,
      "label_raw": "5,6 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "20",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 8.8,
      "freq_per_day": 2,
      "label_raw": "8,8 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "20",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 25.0,
      "weight_max_kg": 25.0,
      "dose_ml": 4.0,
      "freq_per_day": 2,
      "label_raw": "4,0 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "25",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 25.0,
      "weight_max_kg": 25.0,
      "dose_ml": 7.0,
      "freq_per_day": 2,
      "label_raw": "7,0 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "25",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 25.0,
      "weight_max_kg": 25.0,
      "dose_ml": 11.0,
      "freq_per_day": 2,
      "label_raw": "11 –º–ª 2 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏",
      "weight_raw": "25",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 30.0,
      "weight_max_kg": 30.0,
      "dose_ml": 4.7,
      "freq_per_day": 2,
      "label_raw": "4,7 –º–ª",
      "weight_raw": "30",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 30.0,
      "weight_max_kg": 30.0,
      "dose_ml": 8.5,
      "freq_per_day": 2,
      "label_raw": "8,5 –º–ª",
      "weight_raw": "30",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 30.0,
      "weight_max_kg": 30.0,
      "dose_ml": 13.0,
      "freq_per_day": 2,
      "label_raw": "13 –º–ª",
      "weight_raw": "30",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 35.0,
      "weight_max_kg": 35.0,
      "dose_ml": 5.5,
      "freq_per_day": 2,
      "label_raw": "5,5 –º–ª",
      "weight_raw": "35",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 35.0,
      "weight_max_kg": 35.0,
      "dose_ml": 9.8,
      "freq_per_day": 2,
      "label_raw": "9,8 –º–ª",
      "weight_raw": "35",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 35.0,
      "weight_max_kg": 35.0,
      "dose_ml": 15.3,
      "freq_per_day": 2,
      "label_raw": "15,3 –º–ª",
      "weight_raw": "35",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 40.0,
      "weight_max_kg": 40.0,
      "dose_ml": 6.3,
      "freq_per_day": 2,
      "label_raw": "6,3 –º–ª",
      "weight_raw": "40",
      "mgkg_per_day": 25.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 40.0,
      "weight_max_kg": 40.0,
      "dose_ml": 11.3,
      "freq_per_day": 2,
      "label_raw": "11,3 –º–ª",
      "weight_raw": "40",
      "mgkg_per_day": 45.0
    },
    {
      "variant_id": "amoxiclav_457_5ml",
      "weight_min_kg": 40.0,
      "weight_max_kg": 40.0,
      "dose_ml": 17.5,
      "freq_per_day": 2,
      "label_raw": "17,5 –º–ª",
      "weight_raw": "40",
      "mgkg_per_day": 70.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 2.0,
      "weight_max_kg": 2.0,
      "dose_ml": 1.6,
      "freq_per_day": 2,
      "label_raw": "1,6 –º–ª",
      "weight_raw": "2",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 2.0,
      "weight_max_kg": 2.0,
      "dose_ml": 2.0,
      "freq_per_day": 2,
      "label_raw": "2 –º–ª",
      "weight_raw": "2",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 2.0,
      "weight_max_kg": 2.0,
      "dose_ml": 3.6,
      "freq_per_day": 2,
      "label_raw": "3,6 –º–ª",
      "weight_raw": "2",
      "mgkg_per_day": 90.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 2.4,
      "freq_per_day": 2,
      "label_raw": "2,4 –º–ª",
      "weight_raw": "3",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 3.0,
      "freq_per_day": 2,
      "label_raw": "3 –º–ª",
      "weight_raw": "3",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 3.0,
      "weight_max_kg": 3.0,
      "dose_ml": 5.4,
      "freq_per_day": 2,
      "label_raw": "5,4 –º–ª",
      "weight_raw": "3",
      "mgkg_per_day": 90.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 3.2,
      "freq_per_day": 2,
      "label_raw": "3,2 –º–ª",
      "weight_raw": "4",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 4.0,
      "freq_per_day": 2,
      "label_raw": "4 –º–ª",
      "weight_raw": "4",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 4.0,
      "weight_max_kg": 4.0,
      "dose_ml": 7.2,
      "freq_per_day": 2,
      "label_raw": "7,2 –º–ª",
      "weight_raw": "4",
      "mgkg_per_day": 90.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 4.0,
      "freq_per_day": 2,
      "label_raw": "4 –º–ª",
      "weight_raw": "5",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 5.0,
      "freq_per_day": 2,
      "label_raw": "5 –º–ª",
      "weight_raw": "5",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 4.8,
      "freq_per_day": 2,
      "label_raw": "4,8 –º–ª",
      "weight_raw": "6",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 6.0,
      "freq_per_day": 2,
      "label_raw": "6 –º–ª",
      "weight_raw": "6",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 5.6,
      "freq_per_day": 2,
      "label_raw": "5,6 –º–ª",
      "weight_raw": "7",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 7.0,
      "freq_per_day": 2,
      "label_raw": "7 –º–ª",
      "weight_raw": "7",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 6.4,
      "freq_per_day": 2,
      "label_raw": "6,4 –º–ª",
      "weight_raw": "8",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 7.2,
      "freq_per_day": 2,
      "label_raw": "7,2 –º–ª",
      "weight_raw": "9",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_125_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 8.0,
      "freq_per_day": 2,
      "label_raw": "8 –º–ª",
      "weight_raw": "10",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 4.0,
      "freq_per_day": 2,
      "label_raw": "4 –º–ª",
      "weight_raw": "10",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 5.0,
      "freq_per_day": 2,
      "label_raw": "5 –º–ª",
      "weight_raw": "10",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 4.4,
      "freq_per_day": 2,
      "label_raw": "4,4 –º–ª",
      "weight_raw": "11",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 5.5,
      "freq_per_day": 2,
      "label_raw": "5,5 –º–ª",
      "weight_raw": "11",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 4.8,
      "freq_per_day": 2,
      "label_raw": "4,8 –º–ª",
      "weight_raw": "12",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 6.0,
      "freq_per_day": 2,
      "label_raw": "6 –º–ª",
      "weight_raw": "12",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 5.2,
      "freq_per_day": 2,
      "label_raw": "5,2 –º–ª",
      "weight_raw": "13",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 6.5,
      "freq_per_day": 2,
      "label_raw": "6,5 –º–ª",
      "weight_raw": "13",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 5.6,
      "freq_per_day": 2,
      "label_raw": "5,6 –º–ª",
      "weight_raw": "14",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 7.0,
      "freq_per_day": 2,
      "label_raw": "7 –º–ª",
      "weight_raw": "14",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 6.0,
      "freq_per_day": 2,
      "label_raw": "6 –º–ª",
      "weight_raw": "15",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 15.0,
      "dose_ml": 7.5,
      "freq_per_day": 2,
      "label_raw": "7,5 –º–ª",
      "weight_raw": "15",
      "mgkg_per_day": 50.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 16.0,
      "weight_max_kg": 16.0,
      "dose_ml": 6.4,
      "freq_per_day": 2,
      "label_raw": "6,4 –º–ª",
      "weight_raw": "16",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 17.0,
      "weight_max_kg": 17.0,
      "dose_ml": 6.8,
      "freq_per_day": 2,
      "label_raw": "6,8 –º–ª",
      "weight_raw": "17",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 18.0,
      "weight_max_kg": 18.0,
      "dose_ml": 7.2,
      "freq_per_day": 2,
      "label_raw": "7,2 –º–ª",
      "weight_raw": "18",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 19.0,
      "weight_max_kg": 19.0,
      "dose_ml": 7.6,
      "freq_per_day": 2,
      "label_raw": "7,6 –º–ª",
      "weight_raw": "19",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 20.0,
      "weight_max_kg": 20.0,
      "dose_ml": 8.0,
      "freq_per_day": 2,
      "label_raw": "8 –º–ª",
      "weight_raw": "20",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 25.0,
      "weight_max_kg": 25.0,
      "dose_ml": 10.0,
      "freq_per_day": 2,
      "label_raw": "10 –º–ª",
      "weight_raw": "25",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 30.0,
      "weight_max_kg": 30.0,
      "dose_ml": 12.0,
      "freq_per_day": 2,
      "label_raw": "12 –º–ª",
      "weight_raw": "30",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 35.0,
      "weight_max_kg": 35.0,
      "dose_ml": 14.0,
      "freq_per_day": 2,
      "label_raw": "14 –º–ª",
      "weight_raw": "35",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "ospamox_250_5ml",
      "weight_min_kg": 40.0,
      "weight_max_kg": 40.0,
      "dose_ml": 16.0,
      "freq_per_day": 2,
      "label_raw": "16 –º–ª",
      "weight_raw": "40",
      "mgkg_per_day": 40.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 5.0,
      "weight_max_kg": 5.0,
      "dose_ml": 2.5,
      "freq_per_day": 1,
      "label_raw": "2,5 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "5 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 50.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 6.0,
      "weight_max_kg": 6.0,
      "dose_ml": 3.0,
      "freq_per_day": 1,
      "label_raw": "3 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "6 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 60.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 7.0,
      "weight_max_kg": 7.0,
      "dose_ml": 3.5,
      "freq_per_day": 1,
      "label_raw": "3,5 –º–ª 1 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å",
      "weight_raw": "7 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 70.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 8.0,
      "weight_max_kg": 8.0,
      "dose_ml": 4.0,
      "freq_per_day": 1,
      "label_raw": "4 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "8 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 80.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 9.0,
      "weight_max_kg": 9.0,
      "dose_ml": 4.5,
      "freq_per_day": 1,
      "label_raw": "4,5 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "9 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 90.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 5.0,
      "freq_per_day": 1,
      "label_raw": "5 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "10 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 100.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 5.5,
      "freq_per_day": 1,
      "label_raw": "5,5 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "11 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 110.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 6.0,
      "freq_per_day": 1,
      "label_raw": "6 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "12 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 120.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 6.5,
      "freq_per_day": 1,
      "label_raw": "6,5 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "13 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 130.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 7.0,
      "freq_per_day": 1,
      "label_raw": "7 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "14 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 140.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 25.0,
      "dose_ml": 10.0,
      "freq_per_day": 1,
      "label_raw": "10 –º–ª (200 –º–≥ –∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω–∞ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)",
      "weight_raw": "15-25 –∫–≥       (3-7 –ª–µ—Ç)",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 200.0,
      "dose_mg_from_text": 200.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 26.0,
      "weight_max_kg": 35.0,
      "dose_ml": 15.0,
      "freq_per_day": 1,
      "label_raw": "15 –º–ª (300 –º–≥ –∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω–∞ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)",
      "weight_raw": "26-35 –∫–≥            (8-11 –ª–µ—Ç)",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 300.0,
      "dose_mg_from_text": 300.0
    },
    {
      "variant_id": "azidrat_100_5ml",
      "weight_min_kg": 36.0,
      "weight_max_kg": 45.0,
      "dose_ml": 20.0,
      "freq_per_day": 1,
      "label_raw": "20 –º–ª (400 –º–≥ –∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω–∞ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)",
      "weight_raw": "36-45 –∫–≥      (12-14 –ª–µ—Ç)",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 400.0,
      "dose_mg_from_text": 400.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 10.0,
      "weight_max_kg": 10.0,
      "dose_ml": 2.5,
      "freq_per_day": 1,
      "label_raw": "2,5 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "10 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 100.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 11.0,
      "weight_max_kg": 11.0,
      "dose_ml": 2.75,
      "freq_per_day": 1,
      "label_raw": "2,75 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "11 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 110.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 12.0,
      "weight_max_kg": 12.0,
      "dose_ml": 3.0,
      "freq_per_day": 1,
      "label_raw": "3 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "12 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 120.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 13.0,
      "weight_max_kg": 13.0,
      "dose_ml": 3.25,
      "freq_per_day": 1,
      "label_raw": "3,25 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "13 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 130.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 14.0,
      "weight_max_kg": 14.0,
      "dose_ml": 4.0,
      "freq_per_day": 1,
      "label_raw": "4 –º–ª 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å",
      "weight_raw": "14 –∫–≥",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 160.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 15.0,
      "weight_max_kg": 25.0,
      "dose_ml": 5.0,
      "freq_per_day": 1,
      "label_raw": "5 –º–ª (200 –º–≥ –∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω–∞   1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)",
      "weight_raw": "15-25 –∫–≥       (3-7 –ª–µ—Ç)",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 200.0,
      "dose_mg_from_text": 200.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 26.0,
      "weight_max_kg": 35.0,
      "dose_ml": 7.5,
      "freq_per_day": 1,
      "label_raw": "7,5 –º–ª (300 –º–≥ –∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω–∞ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)",
      "weight_raw": "26-35 –∫–≥            (8-11 –ª–µ—Ç)",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 300.0,
      "dose_mg_from_text": 300.0
    },
    {
      "variant_id": "azidrat_200_5ml",
      "weight_min_kg": 36.0,
      "weight_max_kg": 45.0,
      "dose_ml": 10.0,
      "freq_per_day": 1,
      "label_raw": "10 –º–ª (400 –º–≥ –∞–∑–∏—Ç—Ä–æ–º–∏—Ü–∏–Ω–∞ 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)",
      "weight_raw": "36-45 –∫–≥      (12-14 –ª–µ—Ç)",
      "therapy_label": "3-–¥–Ω–µ–≤–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è                                 (–º–ª, 10 –º–≥/–∫–≥/—Å—É—Ç–∫–∏)",
      "dose_mg_calc": 400.0,
      "dose_mg_from_text": 400.0
    }
  ]
}</script>

  <script>
  (() => {
    "use strict";

    // ---------- Data ----------
    const registry = JSON.parse(document.getElementById("registryData").textContent);

    const products = registry.products || [];
    const variants = registry.variants || [];
    const doseRows = registry.dose_rows || [];

    const productsById = new Map(products.map(p => [p.product_id, p]));
    const variantsByProduct = groupBy(variants, v => v.product_id);

    // Build per-variant index for fast lookup
    const doseIndexByVariant = new Map();
    for (const v of variants) {
      const rows = doseRows.filter(r => r.variant_id === v.variant_id);
      doseIndexByVariant.set(v.variant_id, buildDoseIndex(rows));
    }

    // ---------- State ----------
    const DISPLAY_MIN = 2;
    const DISPLAY_MAX = 45;

    const state = {
      product_id: products[0]?.product_id ?? null,
      variant_id: null,
      weight_kg: null,
      mgkg_per_day: null,
      showAllTable: false
    };

    // ---------- Elements ----------
    const productSeg = document.getElementById("productSeg");
    const variantTiles = document.getElementById("variantTiles");
    const mgkgField = document.getElementById("mgkgField");
    const mgkgChips = document.getElementById("mgkgChips");

    const weightRange = document.getElementById("weightRange");
    const weightInput = document.getElementById("weightInput");
    const weightHint = document.getElementById("weightHint");

    const rotor = document.getElementById("rotor");
    const windowsEl = document.getElementById("windows");
    const badgeProduct = document.getElementById("badgeProduct");
    const badgeVariant = document.getElementById("badgeVariant");

    const doseMlEl = document.getElementById("doseMl");
    const freqEl = document.getElementById("freq");
    const dailyEl = document.getElementById("daily");
    const noteEl = document.getElementById("note");
    const copyBtn = document.getElementById("copyBtn");

    const courseLine = document.getElementById("courseLine");
    const courseEl = document.getElementById("course");
    const regimenLine = document.getElementById("regimenLine");
    const regimenEl = document.getElementById("regimen");

    const checkBtn = document.getElementById("checkBtn");
    const toast = document.getElementById("toast");

    // Drawer
    const drawer = document.getElementById("drawer");
    const drawerBackdrop = document.getElementById("drawerBackdrop");
    const drawerTbody = document.getElementById("drawerTbody");
    const drawerSub = document.getElementById("drawerSub");
    const drawerNote = document.getElementById("drawerNote");
    const closeDrawer = document.getElementById("closeDrawer");
    const toggleAll = document.getElementById("toggleAll");

    // Modal
    const infoBtn = document.getElementById("infoBtn");
    const modalBackdrop = document.getElementById("modalBackdrop");
    const closeModal = document.getElementById("closeModal");

    // ---------- Init wheel drawing ----------
    drawWheelBase();

    // ---------- Init UI ----------
    initProductsUI();
    loadState();
    setProduct(state.product_id, /*silent*/true);

    // ---------- Wiring ----------
    weightRange.addEventListener("input", () => setWeight(parseInt(weightRange.value, 10), "range"));
    weightInput.addEventListener("change", () => setWeight(clampAndNormalizeWeight(weightInput.value), "input"));
    weightInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        setWeight(clampAndNormalizeWeight(weightInput.value), "input");
        weightInput.blur();
      }
    });

    copyBtn.addEventListener("click", async () => {
      const text = buildCopyText();
      if (!text) return;
      try {
        await navigator.clipboard.writeText(text);
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ");
      } catch (err) {
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ");
      }
    });

    checkBtn.addEventListener("click", () => openDrawer(true));
    closeDrawer.addEventListener("click", () => openDrawer(false));
    drawerBackdrop.addEventListener("click", () => openDrawer(false));

    toggleAll.addEventListener("click", () => {
      state.showAllTable = !state.showAllTable;
      toggleAll.textContent = state.showAllTable ? "–ü–æ–∫–∞–∑–∞—Ç—å —Ä—è–¥–æ–º —Å –≤–µ—Å–æ–º" : "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—é —Ç–∞–±–ª–∏—Ü—É";
      renderDrawer();
    });

    infoBtn.addEventListener("click", () => openModal(true));
    closeModal.addEventListener("click", () => openModal(false));
    modalBackdrop.addEventListener("click", (e) => {
      if (e.target === modalBackdrop) openModal(false);
    });

    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        if (modalBackdrop.classList.contains("open")) openModal(false);
        if (drawer.classList.contains("open")) openDrawer(false);
      }
    });

    // ---------- Core render ----------
    function renderAll() {
      const v = getSelectedVariant();
      if (!v) return;

      // segmented pressed states
      [...productSeg.children].forEach(btn => {
        const id = btn.dataset.productId;
        btn.setAttribute("aria-pressed", id === state.product_id ? "true" : "false");
      });

      renderVariants();
      renderMgkg();
      syncWeightControls();
      renderWheel(v);
      renderResult(v);

      if (drawer.classList.contains("open")) renderDrawer();
      persistState();
    }

    // ---------- UI builders ----------
    function initProductsUI() {
      productSeg.innerHTML = "";
      for (const p of products) {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = p.brand_ru;
        btn.dataset.productId = p.product_id;
        btn.setAttribute("aria-pressed", "false");
        btn.addEventListener("click", () => setProduct(p.product_id));
        productSeg.appendChild(btn);
      }
    }

    function renderVariants() {
      const list = variantsByProduct.get(state.product_id) || [];
      variantTiles.innerHTML = "";
      for (const v of list) {
        const b = document.createElement("button");
        b.type = "button";
        b.className = "tile";
        b.setAttribute("aria-pressed", v.variant_id === state.variant_id ? "true" : "false");
        b.innerHTML = `
          <div class="t">${escapeHtml(v.strength_label_ru || v.title_ru)}</div>
          <div class="d">${escapeHtml(shortTitle(v.title_ru || ""))}</div>
        `;
        b.addEventListener("click", () => setVariant(v.variant_id));
        variantTiles.appendChild(b);
      }
    }

    function renderMgkg() {
      const v = getSelectedVariant();
      if (!v) return;

      mgkgChips.innerHTML = "";

      if (v.dose_basis !== "mgkg_per_day" || !Array.isArray(v.mgkg_options) || v.mgkg_options.length === 0) {
        mgkgField.style.display = "none";
        regimenLine.style.display = "none";
        return;
      }

      mgkgField.style.display = "grid";

      const avail = new Set(getAvailableMgkg(v, state.weight_kg));

      for (const opt of v.mgkg_options) {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "chip";
        btn.textContent = String(opt).replace(/\.0$/, "");
        btn.setAttribute("aria-pressed", (opt === state.mgkg_per_day) ? "true" : "false");
        btn.disabled = !avail.has(opt);
        btn.title = btn.disabled ? "–ù–µ—Ç –ø–æ –∫–∞—Ä—Ç–µ –¥–ª—è —ç—Ç–æ–≥–æ –≤–µ—Å–∞" : "";
        btn.addEventListener("click", () => setMgkg(opt));
        mgkgChips.appendChild(btn);
      }

      regimenLine.style.display = "flex";
      regimenEl.textContent = `${formatMgkg(state.mgkg_per_day)} –º–≥/–∫–≥/—Å—É—Ç`;
    }

    function syncWeightControls() {
      const v = getSelectedVariant();
      if (!v) return;

      const minW = Math.round(v.weight_min_kg);
      const maxW = Math.round(v.weight_max_kg);

      weightRange.min = String(minW);
      weightRange.max = String(maxW);
      weightInput.min = String(minW);
      weightInput.max = String(maxW);

      state.weight_kg = clamp(state.weight_kg ?? minW, minW, maxW);

      weightRange.value = String(state.weight_kg);
      weightInput.value = String(state.weight_kg);
    }

    // ---------- State setters ----------
    function setProduct(productId, silent=false) {
      state.product_id = productId;

      const list = variantsByProduct.get(productId) || [];
      const preferred = list.find(v => v.variant_id === state.variant_id);
      const chosen = preferred || list[0] || null;
      state.variant_id = chosen ? chosen.variant_id : null;

      const v = getSelectedVariant();
      if (v) {
        state.weight_kg = clampWeightToVariantRange(state.weight_kg ?? Math.round(v.weight_min_kg), v);

        if (v.dose_basis === "mgkg_per_day") {
          const avail = getAvailableMgkg(v, state.weight_kg);
          const first = avail[0] ?? v.mgkg_options[0] ?? null;
          state.mgkg_per_day = (avail.includes(state.mgkg_per_day) ? state.mgkg_per_day : first);
        } else {
          state.mgkg_per_day = null;
        }
      }

      if (!silent) renderAll();
      else renderAll();
    }

    function setVariant(variantId) {
      state.variant_id = variantId;
      const v = getSelectedVariant();
      if (!v) return;

      state.weight_kg = clampWeightToVariantRange(state.weight_kg ?? Math.round(v.weight_min_kg), v);

      if (v.dose_basis === "mgkg_per_day") {
        const avail = getAvailableMgkg(v, state.weight_kg);
        state.mgkg_per_day = (avail.includes(state.mgkg_per_day) ? state.mgkg_per_day : (avail[0] ?? v.mgkg_options[0] ?? null));
      } else {
        state.mgkg_per_day = null;
      }

      renderAll();
    }

    function setMgkg(mgkg) {
      state.mgkg_per_day = mgkg;
      renderAll();
    }

    function setWeight(w, from) {
      const v = getSelectedVariant();
      if (!v) return;

      const before = state.weight_kg;
      const clamped = clampWeightToVariantRange(w, v);
      state.weight_kg = clamped;

      // hint
      weightHint.className = "hint";
      weightHint.textContent = "";
      if (from === "input") {
        const raw = Number(weightInput.value);
        if (!Number.isFinite(raw)) {
          weightHint.textContent = "–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ (–∫–≥)";
          weightHint.classList.add("warn");
        } else if (Math.round(raw) !== raw) {
          weightHint.textContent = `–û–∫—Ä—É–≥–ª–µ–Ω–æ –¥–æ ${Math.round(raw)} –∫–≥`;
          weightHint.classList.add("warn");
        }
      }
      if (clamped !== w) {
        weightHint.textContent = `–î–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è —Ñ–æ—Ä–º—ã: ${Math.round(v.weight_min_kg)}‚Äì${Math.round(v.weight_max_kg)} –∫–≥`;
        weightHint.classList.add("warn");
      }

      // mgkg availability
      if (v.dose_basis === "mgkg_per_day") {
        const avail = getAvailableMgkg(v, clamped);
        if (!avail.includes(state.mgkg_per_day)) state.mgkg_per_day = avail[0] ?? null;
      }

      if (before !== clamped) renderAll();
      else renderAll();
    }

    // ---------- Wheel + result ----------
    function renderWheel(v) {
      const p = productsById.get(state.product_id);

      badgeProduct.textContent = p?.brand_ru ?? "‚Äî";
      badgeVariant.textContent = v.strength_label_ru ?? "‚Äî";

      // rotate decorative disc
      const angle = weightToAngleDeg(state.weight_kg, DISPLAY_MIN, DISPLAY_MAX);
      rotor.style.transform = `rotate(${-angle}deg)`;

      // windows
      windowsEl.innerHTML = "";

      if (v.dose_basis === "mgkg_per_day") {
        for (const opt of v.mgkg_options) {
          const row = findDoseRow(v.variant_id, state.weight_kg, opt);
          const disabled = !row;
          const el = document.createElement("div");
          el.className = "window" + (opt === state.mgkg_per_day ? " active" : "") + (disabled ? " disabled" : "");
          el.innerHTML = `
            <div class="w-top">
              <div class="w-title">${formatMgkg(opt)} –º–≥/–∫–≥/—Å—É—Ç</div>
              <div class="w-title">${row ? `${row.freq_per_day}√ó/—Å—É—Ç` : ""}</div>
            </div>
            <div class="w-dose">${row ? formatMl(row.dose_ml) : "‚Äî"} <span style="font-size:14px; font-weight:900;">–º–ª</span></div>
            <div class="w-sub">${disabled ? "–ù–µ—Ç –ø–æ –∫–∞—Ä—Ç–µ" : "–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å"}</div>
          `;
          if (!disabled) el.addEventListener("click", () => setMgkg(opt));
          windowsEl.appendChild(el);
        }
      } else {
        const row = findDoseRow(v.variant_id, state.weight_kg, null);
        const disabled = !row;
        const el = document.createElement("div");
        el.className = "window active" + (disabled ? " disabled" : "");
        el.style.minWidth = "220px";
        el.innerHTML = `
          <div class="w-top">
            <div class="w-title">–î–æ–∑–∞</div>
            <div class="w-title">${(row ? `${row.freq_per_day}√ó/—Å—É—Ç` : "")}</div>
          </div>
          <div class="w-dose">${row ? formatMl(row.dose_ml) : "‚Äî"} <span style="font-size:14px; font-weight:900;">–º–ª</span></div>
          <div class="w-sub">${v.therapy_days ? `${v.therapy_days} –¥–Ω—è` : ""}</div>
        `;
        windowsEl.appendChild(el);
      }
    }

    function renderResult(v) {
      const p = productsById.get(state.product_id);
      const title = `${p?.brand_ru ?? ""} ¬∑ ${v.strength_label_ru ?? ""}`.trim();
      document.getElementById("resultTitle").textContent = title || "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ";

      let row = null;
      if (v.dose_basis === "mgkg_per_day") {
        row = (state.mgkg_per_day != null) ? findDoseRow(v.variant_id, state.weight_kg, state.mgkg_per_day) : null;
      } else {
        row = findDoseRow(v.variant_id, state.weight_kg, null);
      }

      if (!row) {
        doseMlEl.textContent = "‚Äî";
        freqEl.textContent = "‚Äî";
        dailyEl.textContent = "‚Äî";
        noteEl.innerHTML = `<strong>–ù–µ—Ç –¥–æ–∑—ã –ø–æ –∫–∞—Ä—Ç–µ</strong> –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–µ—Å–∞/—Ä–µ–∂–∏–º–∞.`;
        copyBtn.disabled = true;
      } else {
        doseMlEl.textContent = `${formatMl(row.dose_ml)} –º–ª`;
        freqEl.textContent = `${row.freq_per_day} —Ä–∞–∑/—Å—É—Ç`;
        dailyEl.textContent = `${formatMl(row.dose_ml * row.freq_per_day)} –º–ª/—Å—É—Ç`;
        noteEl.textContent = `–í–µ—Å: ${state.weight_kg} –∫–≥. –î–æ–∑–∞ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –¥–æ–∑-–∫–∞—Ä—Ç—ã (—Ä–µ–µ—Å—Ç—Ä).`;
        copyBtn.disabled = false;
      }

      // Course / regimen
      if (v.therapy_days) {
        courseLine.style.display = "flex";
        courseEl.textContent = `${v.therapy_days} –¥–Ω—è`;
      } else {
        courseLine.style.display = "none";
      }

      if (v.dose_basis === "mgkg_per_day") {
        regimenLine.style.display = "flex";
        regimenEl.textContent = `${formatMgkg(state.mgkg_per_day)} –º–≥/–∫–≥/—Å—É—Ç`;
      } else {
        regimenLine.style.display = "none";
      }

      drawerSub.textContent = `${p?.brand_ru ?? ""} ¬∑ ${v.strength_label_ru ?? ""} ¬∑ –í–µ—Å: ${state.weight_kg} –∫–≥`;
    }

    // ---------- Drawer ----------
    function renderDrawer() {
      const v = getSelectedVariant();
      if (!v) return;

      const p = productsById.get(state.product_id);
      drawerSub.textContent = `${p?.brand_ru ?? ""} ¬∑ ${v.strength_label_ru ?? ""} ¬∑ –í–µ—Å: ${state.weight_kg} –∫–≥`;

      const idx = doseIndexByVariant.get(v.variant_id);
      const all = (idx?.allRows || []).slice();

      let rows = all;
      if (v.dose_basis === "mgkg_per_day" && state.mgkg_per_day != null) {
        rows = rows.filter(r => r.mgkg_per_day === state.mgkg_per_day);
      }

      const w = state.weight_kg;
      const nearMin = w - 5;
      const nearMax = w + 5;

      let shown = rows;
      if (!state.showAllTable) {
        shown = rows.filter(r => {
          const isRange = r.weight_min_kg !== r.weight_max_kg;
          if (isRange) {
            return rangesIntersect(r.weight_min_kg, r.weight_max_kg, nearMin, nearMax) || (w >= r.weight_min_kg && w <= r.weight_max_kg);
          }
          return r.weight_min_kg >= nearMin && r.weight_min_kg <= nearMax;
        });
      }

      shown.sort((a,b) => (a.weight_min_kg - b.weight_min_kg) || ((a.mgkg_per_day ?? 0) - (b.mgkg_per_day ?? 0)));

      drawerNote.innerHTML = state.showAllTable
        ? `–ü–æ–∫–∞–∑–∞–Ω–∞ <strong>–≤—Å—è —Ç–∞–±–ª–∏—Ü–∞</strong> –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—ã${v.dose_basis === "mgkg_per_day" ? ` (—Ä–µ–∂–∏–º: ${formatMgkg(state.mgkg_per_day)} –º–≥/–∫–≥/—Å—É—Ç)` : ""}.`
        : `–ü–æ–∫–∞–∑–∞–Ω—ã —Å—Ç—Ä–æ–∫–∏ <strong>—Ä—è–¥–æ–º —Å –≤–µ—Å–æ–º</strong> (¬±5 –∫–≥)${v.dose_basis === "mgkg_per_day" ? ` ¬∑ —Ä–µ–∂–∏–º: ${formatMgkg(state.mgkg_per_day)} –º–≥/–∫–≥/—Å—É—Ç` : ""}.`;

      drawerTbody.innerHTML = "";
      for (const r of shown) {
        const tr = document.createElement("tr");
        const inRange = (w >= r.weight_min_kg && w <= r.weight_max_kg);
        if (inRange) tr.classList.add("hl");

        tr.innerHTML = `
          <td>${formatWeightCell(r)}</td>
          <td>${v.dose_basis === "mgkg_per_day" ? `${formatMgkg(r.mgkg_per_day)} –º–≥/–∫–≥/—Å—É—Ç` : "‚Äî"}</td>
          <td><strong>${formatMl(r.dose_ml)}</strong> –º–ª</td>
          <td>${r.freq_per_day}</td>
          <td style="color: var(--muted)">${escapeHtml(r.label_raw || "")}</td>
        `;
        drawerTbody.appendChild(tr);
      }

      if (shown.length === 0) {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td colspan="5" style="color: var(--muted); padding: 14px 8px;">–ù–µ—Ç —Å—Ç—Ä–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</td>`;
        drawerTbody.appendChild(tr);
      }
    }

    function openDrawer(open) {
      if (open) {
        drawer.classList.add("open");
        drawerBackdrop.classList.add("open");
        drawer.setAttribute("aria-hidden", "false");
        drawerBackdrop.setAttribute("aria-hidden", "false");
        renderDrawer();
      } else {
        drawer.classList.remove("open");
        drawerBackdrop.classList.remove("open");
        drawer.setAttribute("aria-hidden", "true");
        drawerBackdrop.setAttribute("aria-hidden", "true");
      }
    }

    // ---------- Modal ----------
    function openModal(open) {
      if (open) modalBackdrop.classList.add("open");
      else modalBackdrop.classList.remove("open");
    }

    // ---------- Copy ----------
    function buildCopyText() {
      const v = getSelectedVariant();
      const p = productsById.get(state.product_id);
      if (!v || !p) return "";

      let row = null;
      if (v.dose_basis === "mgkg_per_day") {
        row = (state.mgkg_per_day != null) ? findDoseRow(v.variant_id, state.weight_kg, state.mgkg_per_day) : null;
      } else {
        row = findDoseRow(v.variant_id, state.weight_kg, null);
      }
      if (!row) return "";

      const lines = [];
      lines.push(`–ü—Ä–µ–ø–∞—Ä–∞—Ç: ${p.brand_ru} (${v.strength_label_ru || v.title_ru})`);
      lines.push(`–í–µ—Å: ${state.weight_kg} –∫–≥`);
      if (v.dose_basis === "mgkg_per_day" && state.mgkg_per_day != null) lines.push(`–†–µ–∂–∏–º: ${formatMgkg(state.mgkg_per_day)} –º–≥/–∫–≥/—Å—É—Ç`);
      lines.push(`–î–æ–∑–∞: ${formatMl(row.dose_ml)} –º–ª √ó ${row.freq_per_day} —Ä–∞–∑/—Å—É—Ç`);
      lines.push(`–°—É—Ç–æ—á–Ω–æ: ${formatMl(row.dose_ml * row.freq_per_day)} –º–ª/—Å—É—Ç`);
      if (v.therapy_days) lines.push(`–ö—É—Ä—Å: ${v.therapy_days} –¥–Ω—è`);
      return lines.join("\n");
    }

    function showToast(msg) {
      toast.textContent = msg;
      toast.classList.add("show");
      window.setTimeout(() => toast.classList.remove("show"), 1400);
    }

    // ---------- Lookup ----------
    function buildDoseIndex(rows) {
      const byKey = new Map(); // key = mgkg or "NA" -> { point: Map, ranges: [] }
      for (const r of rows) {
        const key = (r.mgkg_per_day == null) ? "NA" : String(r.mgkg_per_day);
        if (!byKey.has(key)) byKey.set(key, { point: new Map(), ranges: [] });
        const bucket = byKey.get(key);

        const wMin = Number(r.weight_min_kg);
        const wMax = Number(r.weight_max_kg);
        if (wMin === wMax) bucket.point.set(wMin, r);
        else bucket.ranges.push(r);
      }
      for (const bucket of byKey.values()) bucket.ranges.sort((a,b) => ((a.weight_max_kg - a.weight_min_kg) - (b.weight_max_kg - b.weight_min_kg)));
      return { byKey, allRows: rows };
    }

    function findDoseRow(variantId, weightKg, mgkg) {
      const idx = doseIndexByVariant.get(variantId);
      if (!idx) return null;

      const key = (mgkg == null) ? "NA" : String(mgkg);
      const bucket = idx.byKey.get(key);
      if (!bucket) return null;

      const direct = bucket.point.get(weightKg);
      if (direct) return direct;

      for (const r of bucket.ranges) {
        if (weightKg >= r.weight_min_kg && weightKg <= r.weight_max_kg) return r;
      }
      return null;
    }

    function getAvailableMgkg(variant, weightKg) {
      const opts = variant.mgkg_options || [];
      const avail = [];
      for (const opt of opts) {
        if (findDoseRow(variant.variant_id, weightKg, opt)) avail.push(opt);
      }
      return avail;
    }

    // ---------- Formatting ----------
    function formatMl(x) {
      const n = Number(x);
      if (!Number.isFinite(n)) return "‚Äî";
      return n.toLocaleString("ru-RU", { minimumFractionDigits: 0, maximumFractionDigits: 2 });
    }
    function formatMgkg(x) {
      if (x == null) return "‚Äî";
      const n = Number(x);
      if (!Number.isFinite(n)) return "‚Äî";
      return n.toLocaleString("ru-RU", { minimumFractionDigits: 0, maximumFractionDigits: 0 });
    }
    function formatWeightCell(r) {
      const a = Number(r.weight_min_kg);
      const b = Number(r.weight_max_kg);
      return (a === b) ? String(a) : `${a}‚Äì${b}`;
    }
    function shortTitle(t) {
      const s = String(t || "").trim();
      return s.replace(/^–†–∞—Å—á–µ—Ç\s+—Ä–∞–∑–æ–≤–æ–π\s+–¥–æ–∑—ã\s+–ø—Ä–µ–ø–∞—Ä–∞—Ç–∞\s+/i, "").slice(0, 72);
    }
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, (m) => ({ "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;" }[m]));
    }

    // ---------- Wheel drawing ----------
    function drawWheelBase() {
      const svgNS = "http://www.w3.org/2000/svg";
      rotor.innerHTML = "";

      // 3 decorative sectors
      const sectors = [
        { color: "rgba(0,166,81,0.14)" },
        { color: "rgba(0,179,184,0.14)" },
        { color: "rgba(11,42,74,0.10)" }
      ];
      const center = { x: 250, y: 250 };
      const outerR = 206;
      const innerR = 118;
      const sectorCount = 3;
      const sectorSweep = 360 / sectorCount;

      for (let i = 0; i < sectorCount; i++) {
        const start = -90 + i * sectorSweep;
        const end = start + sectorSweep;
        const path = document.createElementNS(svgNS, "path");
        path.setAttribute("d", ringSectorPath(center.x, center.y, innerR, outerR, start, end));
        path.setAttribute("fill", sectors[i].color);
        path.setAttribute("stroke", "rgba(11,42,74,0.06)");
        path.setAttribute("stroke-width", "1");
        rotor.appendChild(path);
      }

      // ticks + labels
      const count = DISPLAY_MAX - DISPLAY_MIN + 1;
      for (let w = DISPLAY_MIN; w <= DISPLAY_MAX; w++) {
        const idx = w - DISPLAY_MIN;
        const angleDeg = (idx / count) * 360;
        const a = degToRad(-90 + angleDeg);

        const r1 = 214;
        const r2 = 226;
        const x1 = center.x + Math.cos(a) * r1;
        const y1 = center.y + Math.sin(a) * r1;
        const x2 = center.x + Math.cos(a) * r2;
        const y2 = center.y + Math.sin(a) * r2;

        const major = (w % 5 === 0) || (w === DISPLAY_MIN) || (w === DISPLAY_MAX);

        const tick = document.createElementNS(svgNS, "line");
        tick.setAttribute("x1", x1);
        tick.setAttribute("y1", y1);
        tick.setAttribute("x2", x2);
        tick.setAttribute("y2", y2);
        tick.setAttribute("stroke", major ? "rgba(11,42,74,0.55)" : "rgba(11,42,74,0.22)");
        tick.setAttribute("stroke-width", major ? "2" : "1");
        rotor.appendChild(tick);

        if (major) {
          const labelR = 242;
          const xl = center.x + Math.cos(a) * labelR;
          const yl = center.y + Math.sin(a) * labelR;

          const t = document.createElementNS(svgNS, "text");
          t.textContent = String(w);
          t.setAttribute("x", xl);
          t.setAttribute("y", yl);
          t.setAttribute("fill", "rgba(11,42,74,0.80)");
          t.setAttribute("font-size", "11");
          t.setAttribute("font-family", "Arial, sans-serif");
          t.setAttribute("font-weight", "900");
          t.setAttribute("text-anchor", "middle");
          t.setAttribute("dominant-baseline", "middle");
          rotor.appendChild(t);
        }
      }

      const ring = document.createElementNS(svgNS, "circle");
      ring.setAttribute("cx", "250");
      ring.setAttribute("cy", "250");
      ring.setAttribute("r", String(innerR));
      ring.setAttribute("fill", "none");
      ring.setAttribute("stroke", "rgba(11,42,74,0.12)");
      ring.setAttribute("stroke-width", "2");
      rotor.appendChild(ring);
    }

    function ringSectorPath(cx, cy, rInner, rOuter, startDeg, endDeg) {
      const startOuter = polarToCartesian(cx, cy, rOuter, endDeg);
      const endOuter = polarToCartesian(cx, cy, rOuter, startDeg);
      const startInner = polarToCartesian(cx, cy, rInner, startDeg);
      const endInner = polarToCartesian(cx, cy, rInner, endDeg);

      const largeArc = (endDeg - startDeg) <= 180 ? "0" : "1";

      return [
        "M", startOuter.x, startOuter.y,
        "A", rOuter, rOuter, 0, largeArc, 0, endOuter.x, endOuter.y,
        "L", startInner.x, startInner.y,
        "A", rInner, rInner, 0, largeArc, 1, endInner.x, endInner.y,
        "Z"
      ].join(" ");
    }

    function polarToCartesian(cx, cy, r, deg) {
      const rad = degToRad(deg);
      return { x: cx + (r * Math.cos(rad)), y: cy + (r * Math.sin(rad)) };
    }

    function degToRad(d) { return d * Math.PI / 180; }

    function weightToAngleDeg(weight, displayMin, displayMax) {
      const count = (displayMax - displayMin + 1);
      const idx = clamp(weight, displayMin, displayMax) - displayMin;
      return (idx / count) * 360;
    }

    // ---------- Persistence ----------
    function persistState() {
      try {
        const payload = {
          product_id: state.product_id,
          variant_id: state.variant_id,
          weight_kg: state.weight_kg,
          mgkg_per_day: state.mgkg_per_day
        };
        localStorage.setItem("dosing_wheel_kz_state_v1", JSON.stringify(payload));
      } catch (_) {}
    }

    function loadState() {
      // defaults
      const list0 = variantsByProduct.get(state.product_id) || [];
      state.variant_id = list0[0]?.variant_id ?? null;

      const v0 = getSelectedVariant();
      state.weight_kg = v0 ? Math.round(v0.weight_min_kg) : 10;
      state.mgkg_per_day = (v0 && v0.dose_basis === "mgkg_per_day") ? (v0.mgkg_options || [])[0] ?? null : null;

      try {
        const raw = localStorage.getItem("dosing_wheel_kz_state_v1");
        if (!raw) return;
        const saved = JSON.parse(raw);

        if (saved.product_id && productsById.has(saved.product_id)) state.product_id = saved.product_id;

        const list = variantsByProduct.get(state.product_id) || [];
        const v = list.find(x => x.variant_id === saved.variant_id) || list[0] || null;
        state.variant_id = v?.variant_id ?? null;

        const vSel = getSelectedVariant();
        if (vSel) {
          const w = Number(saved.weight_kg);
          if (Number.isFinite(w)) state.weight_kg = clampWeightToVariantRange(Math.round(w), vSel);

          if (vSel.dose_basis === "mgkg_per_day") {
            const mg = Number(saved.mgkg_per_day);
            if (Number.isFinite(mg)) state.mgkg_per_day = mg;
            const avail = getAvailableMgkg(vSel, state.weight_kg);
            if (!avail.includes(state.mgkg_per_day)) state.mgkg_per_day = avail[0] ?? (vSel.mgkg_options || [])[0] ?? null;
          } else {
            state.mgkg_per_day = null;
          }
        }
      } catch (_) {}
    }

    function clampWeightToVariantRange(w, variant) {
      const minW = Math.round(variant.weight_min_kg);
      const maxW = Math.round(variant.weight_max_kg);
      return clamp(w, minW, maxW);
    }

    function clampAndNormalizeWeight(raw) {
      const v = getSelectedVariant();
      if (!v) return 10;
      const n = Number(raw);
      if (!Number.isFinite(n)) return clampWeightToVariantRange(Math.round(v.weight_min_kg), v);
      return clampWeightToVariantRange(Math.round(n), v);
    }

    function getSelectedVariant() {
      return variants.find(v => v.variant_id === state.variant_id) || null;
    }

    // ---------- Utilities ----------
    function groupBy(arr, keyFn) {
      const m = new Map();
      for (const x of arr) {
        const k = keyFn(x);
        if (!m.has(k)) m.set(k, []);
        m.get(k).push(x);
      }
      return m;
    }
    function clamp(x, a, b) {
      return Math.max(a, Math.min(b, x));
    }
    function rangesIntersect(a1,a2,b1,b2) {
      return Math.max(a1,b1) <= Math.min(a2,b2);
    }

    // ---------- Kickoff ----------
    renderAll();

    // ========== WHEEL INTERACTION - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –±–µ–∑ –∑–∞–ª–∏–ø–∞–Ω–∏—è ==========
    (function() {
      let isDragging = false;
      let lastAngle = 0;
      let accumulatedRotation = 0;
      let rafId = null;
      let pendingWeight = null;
      
      const wheelWrapEl = document.querySelector('.wheel-wrap');
      if (!wheelWrapEl) return;
      
      function getMouseAngle(clientX, clientY) {
        const rect = wheelWrapEl.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        const dx = clientX - centerX;
        const dy = clientY - centerY;
        return Math.atan2(dy, dx) * (180 / Math.PI);
      }
      
      function normalizeAngleDelta(delta) {
        while (delta > 180) delta -= 360;
        while (delta < -180) delta += 360;
        return delta;
      }
      
      function rotationToWeight(totalRotation) {
        let normalized = ((totalRotation % 360) + 360) % 360;
        const weightRange = DISPLAY_MAX - DISPLAY_MIN;
        let weight = DISPLAY_MIN + (normalized / 360) * weightRange;
        return Math.max(DISPLAY_MIN, Math.min(DISPLAY_MAX, Math.round(weight)));
      }
      
      // –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ RAF
      function scheduleWeightUpdate(newWeight) {
        pendingWeight = newWeight;
        if (!rafId) {
          rafId = requestAnimationFrame(() => {
            if (pendingWeight !== null) {
              setWeight(pendingWeight, "wheel");
              pendingWeight = null;
            }
            rafId = null;
          });
        }
      }
      
      function startDrag(clientX, clientY) {
        isDragging = true;
        lastAngle = getMouseAngle(clientX, clientY);
        const transform = rotor.style.transform || 'rotate(0deg)';
        const match = transform.match(/rotate\(([^)]+)deg\)/);
        accumulatedRotation = match ? parseFloat(match[1]) : 0;
        wheelWrapEl.style.cursor = 'grabbing';
        rotor.style.cursor = 'grabbing';
      }
      
      function doDrag(clientX, clientY) {
        if (!isDragging) return;
        const currentAngle = getMouseAngle(clientX, clientY);
        let deltaAngle = normalizeAngleDelta(currentAngle - lastAngle);
        accumulatedRotation += deltaAngle;
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º RAF –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
        scheduleWeightUpdate(rotationToWeight(accumulatedRotation));
        
        lastAngle = currentAngle;
      }
      

      
      // Throttle –¥–ª—è touch move (—Ç–æ–ª—å–∫–æ –∫–∞–∂–¥—ã–µ 16ms = 60fps)
      let lastTouchTime = 0;
      function doDragThrottled(clientX, clientY) {
        const now = Date.now();
        if (now - lastTouchTime < 16) return; // 60fps max
        lastTouchTime = now;
        doDrag(clientX, clientY);
      }
      
      function endDrag() {
        if (isDragging) {
          isDragging = false;
          wheelWrapEl.style.cursor = 'grab';
          rotor.style.cursor = 'grab';
        }
      }
      
      // Mouse
      wheelWrapEl.addEventListener('mousedown', (e) => { startDrag(e.clientX, e.clientY); e.preventDefault(); });
      document.addEventListener('mousemove', (e) => { if(isDragging) { doDrag(e.clientX, e.clientY); e.preventDefault(); } });
      document.addEventListener('mouseup', endDrag);
      
      // Touch
      wheelWrapEl.addEventListener('touchstart', (e) => {
        if (e.touches.length === 1) {
          // –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫
          startDrag(e.touches[0].clientX, e.touches[0].clientY);
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        }
      }, { passive: false, capture: true });
      
      wheelWrapEl.addEventListener('touchmove', (e) => {
        if (isDragging && e.touches.length === 1) {
          doDragThrottled(e.touches[0].clientX, e.touches[0].clientY);
          e.preventDefault();
          e.stopPropagation();
        }
      }, { passive: false, capture: true });
      
      wheelWrapEl.addEventListener('touchend', (e) => { endDrag(); if(isDragging) e.preventDefault(); });
      wheelWrapEl.addEventListener('touchcancel', endDrag);
      
      // Wheel
      wheelWrapEl.addEventListener('wheel', (e) => {
        e.preventDefault();
        const delta = e.deltaY > 0 ? -1 : 1;
        setWeight(Math.max(DISPLAY_MIN, Math.min(DISPLAY_MAX, state.weight_kg + delta)), "wheel");
      }, { passive: false });
      
      // Setup - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –¥–ª—è touch
      wheelWrapEl.style.cursor = 'grab';
      wheelWrapEl.style.touchAction = 'none';
      wheelWrapEl.style.userSelect = 'none';
      wheelWrapEl.style.webkitUserSelect = 'none';
      wheelWrapEl.style.webkitTouchCallout = 'none';
      wheelWrapEl.style.webkitTapHighlightColor = 'transparent';
      
      rotor.style.cursor = 'grab';
      rotor.style.touchAction = 'none';
      rotor.style.userSelect = 'none';
      rotor.style.webkitUserSelect = 'none';
      rotor.style.webkitTouchCallout = 'none';
      
      // –£–±–∏—Ä–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É 300ms –¥–ª—è Telegram/iOS
      wheelWrapEl.addEventListener('click', function() {}, false);
    })();

  })();
  </script>
</body>
</html>
